(this["webpackJsonpsocialspark-web"]=this["webpackJsonpsocialspark-web"]||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/empty.03e375f8.png"},155:function(e,t,a){e.exports=a.p+"static/media/login2.a311f37e.png"},156:function(e,t,a){e.exports=a.p+"static/media/signup.b92341b3.png"},176:function(e,t,a){e.exports=a(232)},231:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),c=a.n(o),s=a(10),l=a(8),i=a(12),u=a(13),m=a(14),p=a(5),d=a.n(p),h=a(9),f=a(22),g=a(50),b=a(16),E=a(15),v=a(138),y=a(34),k=a(24),O={authenticated:!1,credentials:{},likes:[],notifications:[],loading:!1,profile:null},w={spark:{},sparks:[],loading:!1,users:[],messages:[]},j={loading:!1,errors:null},x=[v.a],S=Object(E.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(k.a)({},e,{authenticated:!0});case"SET_UNAUTHENTICATED":return O;case"SET_USER":return Object(k.a)({authenticated:!0,loading:!1},t.payload);case"LOADING_USER":return Object(k.a)({},e,{loading:!0});case"LIKE_SPARK":return Object(k.a)({},e,{likes:[].concat(Object(y.a)(e.likes),[{sparkId:t.payload.sparkId,username:e.credentials.username}])});case"UNLIKE_SPARK":return Object(k.a)({},e,{likes:e.likes.filter((function(e){return e.sparkId!==t.payload.sparkId}))});case"GET_USER_PROFILE":return Object(k.a)({},e,{profile:t.payload});case"MARK_NOTIFICATION_READ":var a=e.notifications.findIndex((function(e){return e.notificationId===t.payload}));return e.notifications[a].read=!0,Object(k.a)({},e);default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Object(k.a)({},e,{loading:!0});case"GET_SPARKS":return{sparks:t.payload,loading:!1};case"LIKE_SPARK":case"UNLIKE_SPARK":var a=e.sparks.findIndex((function(e){return e.sparkId===t.payload.sparkId}));return e.spark&&e.spark.sparkId===t.payload.sparkId&&(e.spark.likeCount=t.payload.likeCount),e.sparks[a]=t.payload,Object(k.a)({},e);case"DELETE_SPARK":var n=e.sparks.findIndex((function(e){return e.sparkId===t.payload}));return e.sparks.splice(n,1),Object(k.a)({},e);case"POST_SPARK":return Object(k.a)({},e,{sparks:[t.payload].concat(Object(y.a)(e.sparks))});case"SET_SPARK":return Object(k.a)({},e,{spark:t.payload});case"SUBMIT_COMMENT":e.sparks.findIndex((function(e){return e.sparkId===t.payload.sparkId}));return Object(k.a)({},e,{spark:Object(k.a)({},e.spark,{comments:[t.payload].concat(Object(y.a)(e.spark.comments))})});case"GET_ALL_USERS":return Object(k.a)({},e,{users:t.payload});case"GET_MESSAGES":return Object(k.a)({},e,{messages:t.payload});case"POST_MESSAGE":return Object(k.a)({},e,{messages:[].concat(Object(y.a)(e.messages),[t.payload])});case"DELETE_MESSAGE":var r=e.messages.findIndex((function(e){return e.messageId===t.payload}));return e.messages.splice(r,1),Object(k.a)({},e);default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(k.a)({},e,{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(k.a)({},e,{loading:!1,errors:null});case"LOADING_UI":return Object(k.a)({},e,{loading:!0});case"ON_LOADED_DATA":return Object(k.a)({},e,{loading:!1});default:return e}}}),C=Object(E.e)(S,{},Object(E.d)(E.a.apply(void 0,x))),N=a(140),I=a.n(N),D=a(33),T=a.n(D),A=a(58),M=a.n(A),P=a(21),R=a.n(P),U=function(e){return{type:"GET_SPARKS",payload:e}},F=function(e){return{type:"POST_SPARK",payload:e}},_=function(e){return{type:"SUBMIT_COMMENT",payload:e}},L=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_DATA"}),e.next=4,R.a.get("/sparks");case 4:a=e.sent,t(U(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},W=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_DATA"}),e.next=4,R.a.get("/following/sparks");case 4:a=e.sent,t(U(a.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("/spark/".concat(e,"/like"));case 3:n=t.sent,a({type:"LIKE_SPARK",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("/spark/".concat(e,"/unlike"));case 3:n=t.sent,a({type:"UNLIKE_SPARK",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.delete("/spark/".concat(e,"/delete"));case 3:a({type:"DELETE_SPARK",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.post("/spark",{body:e});case 3:n=t.sent,a(F(n.data)),a(X()),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),a(Q(t.t0.response.data));case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a($()),t.next=4,R.a.get("/spark/".concat(e));case 4:n=t.sent,a({type:"SET_SPARK",payload:n.data}),a({type:"ON_LOADED_DATA"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},H=function(e,t){return function(){var a=Object(h.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.post("/spark/".concat(e,"/comment"),{body:t});case 3:r=a.sent,n(_(r.data)),n(X()),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),n(Q(a.t0.response.data));case 12:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},q=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("/users");case 3:a=e.sent,t({type:"GET_ALL_USERS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},J=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.get("/messages");case 3:a=e.sent,t({type:"GET_MESSAGES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.post("/message",{body:e});case 3:n=t.sent,a({type:"POST_MESSAGE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},Z=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.delete("/message/".concat(e,"/delete"));case 3:a({type:"DELETE_MESSAGE",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},$=function(){return{type:"LOADING_UI"}},Q=function(e){return{type:"SET_ERRORS",payload:e}},X=function(){return{type:"CLEAR_ERRORS"}},ee=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBToken",t),R.a.defaults.headers.common.Authorization=t},te=function(e,t){return function(){var a=Object(h.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.post("/login",e);case 3:r=a.sent,ee(r.data.token),n(ne()),t.push("/"),n($()),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),n(Q(a.t0.response.data));case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},ae=function(e,t){return function(){var a=Object(h.a)(d.a.mark((function a(n){var r;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,R.a.post("/signup",e);case 3:r=a.sent,ee(r.data.accessToken),n(ne()),n(X()),t.push("/"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0),n(Q(a.t0.response.data));case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(h.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"LOADING_USER"}),e.next=4,R.a.get("/user");case 4:a=e.sent,t({type:"SET_USER",payload:a.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t(Q(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},re=function(){return function(e){localStorage.removeItem("FBToken"),delete R.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"})}},oe=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING_USER"}),t.next=4,R.a.post("/user/image",e);case 4:a(ne()),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),a(Q(t.t0.response.data));case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING_USER"}),t.next=4,R.a.post("/user",e);case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),console.log(Q(t.t0.response.data));case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"LOADING_DATA"}),t.next=4,R.a.get("/user/".concat(e));case 4:n=t.sent,a({type:"GET_SPARKS",payload:n.data.sparks}),a({type:"ON_LOADED_DATA"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},le=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.post("/notifications",[e]);case 3:a({type:"MARK_NOTIFICATION_READ",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("user/".concat(e,"/follow"));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(h.a)(d.a.mark((function t(a){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("user/".concat(e,"/unfollow"));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()},me=a(163),pe=a(260),de=a(264),he=a(286),fe=a(70),ge=a(258),be=a(93),Ee=a.n(be),ve=a(141),ye=a.n(ve),ke=a(82),Oe=a.n(ke),we=a(83),je=a.n(we),xe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.setNotificationRead=function(){var e=Object(h.a)(d.a.mark((function e(t,n,r,o,c){var s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.props.history,e.next=3,a.props.markNotificationReadDispatch(t);case 3:"following"===c?s.push("/user/".concat(r)):s.push("/user/".concat(n,"/spark/").concat(o)),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o){return e.apply(this,arguments)}}(),a.state={anchorEl:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;T.a.extend(M.a);var t,a=this.props.user.notifications,n=this.state.anchorEl;t=a&&a.length>0&&a.filter((function(e){return!1===e.read})).length>0?r.a.createElement(ge.a,{badgeContent:a.filter((function(e){return!1===e.read})).length,color:"error"},r.a.createElement(Ee.a,{color:"secondary"})):r.a.createElement(Ee.a,{color:"secondary"});var o=a&&a.length>0?a.map((function(t){var a="like"===t.type?"liked":"comment"===t.type?"commented on":"following",n=T()(t.createdAt).fromNow(),o=t.read?"primary":"secondary",c="like"===t.type?r.a.createElement(Oe.a,{color:o,style:{marginRight:10}}):"comment"===t.type?r.a.createElement(je.a,{color:o,style:{marginRight:10}}):r.a.createElement(ye.a,{color:o,style:{marginRight:10}});return r.a.createElement(pe.a,{key:t.createdAt,onClick:e.handleClose},c,r.a.createElement("div",{onClick:function(){return e.setNotificationRead(t.notificationId,t.recipient,t.sender,t.sparkId,a)}},"liked"===a||"commented on"===a?r.a.createElement(fe.a,{variant:"body1"},t.sender," ",a," your spark ",n):r.a.createElement(fe.a,{variant:"body1"},t.sender," started ",a," you ",n)))})):r.a.createElement(pe.a,{onClick:this.handleClose},"You have no notifications");return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{placement:"bottom",title:"Notifications"},r.a.createElement(de.a,{"aria-controls":n?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleOpen},t)),r.a.createElement(me.a,{anchorEl:n,open:Boolean(n),onClose:this.handleClose,onEntered:this.onMenuOpened,className:"over-auto"},o))}}]),t}(n.Component),Se=Object(b.b)((function(e){return{user:e.user}}),(function(e){return Object(E.b)({markNotificationReadDispatch:le},e)}))(Object(g.g)(xe)),Ce=a(11),Ne=function(e){var t=e.children,a=e.onClick,n=e.tip,o=e.btnClassName,c=e.tipClassName;return r.a.createElement(he.a,{title:n,className:c,placement:"bottom"},r.a.createElement(de.a,{onClick:a,className:o},t))},Ie=a(103),De=a.n(Ie),Te=a(43),Ae=a.n(Te),Me=a(266),Pe=a(267),Re=a(268),Ue=a(283),Fe=a(285),_e=a(269),Le=a(4),We={closeButton:{position:"absolute",left:Ce.isMobile?" 87%":"90%",top:"1%"},search:{display:"flex",alignItems:"center"},searchIcon:{marginRight:10},avatar:{width:60,height:60,marginRight:15,cursor:"pointer"},username:{cursor:"pointer"}},Be=[],Ge=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dialog:!1,searchField:""},a.openDialog=function(){var e=a.props.getAllUsersDispatch;a.setState({dialog:!0}),e()},a.closeDialog=function(){a.setState({dialog:!1,searchField:""}),Be=[]},a.handleSearch=function(e){var t=a.state.searchField,n=a.props.data.users;a.setState({searchField:e.target.value}),Be=n.filter((function(e){return e.username.toLowerCase().startsWith(t.toLowerCase())}))},a.goToProfile=function(e){a.props.history;window.history.pushState(null,null,"/user/".concat(e)),window.location.reload()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.dialog,n=t.searchField;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{tip:"Search Users",onClick:this.openDialog},r.a.createElement(De.a,{color:"secondary"})),r.a.createElement(Me.a,{open:a,onClose:this.closeDialog,fullScreen:!!Ce.isMobile,fullWidth:!Ce.isMobile,maxWidth:"sm"},r.a.createElement(Pe.a,null,"Seacrh Users"),r.a.createElement(Ne,{tip:"close",onClick:this.closeDialog,tipClassName:e.closeButton},r.a.createElement(Ae.a,null)),r.a.createElement(Re.a,null,r.a.createElement("div",null,r.a.createElement("div",{className:e.search},r.a.createElement(De.a,{className:e.searchIcon}),r.a.createElement(Ue.a,{value:n,onChange:this.handleSearch,placeholder:"Type Username",fullWidth:!0})),r.a.createElement("div",{className:"over-auto"},0===Be.length?r.a.createElement("div",{className:"p-50 text-center"},"No Users Found"):Be.map((function(t,a){return r.a.createElement("div",{key:t.userId},r.a.createElement("div",{className:"flex-row align-items-center p-10 m-10"},r.a.createElement(Fe.a,{src:t.userImage,className:e.avatar}),r.a.createElement(f.b,{to:"/user/".concat(t.username),className:e.username},r.a.createElement(fe.a,{color:"secondary",variant:"h5"},t.username)),r.a.createElement(_e.a,null)),a!==Be.length-1&&r.a.createElement("hr",null))})))))))}}]),t}(n.Component),Ke=Object(b.b)((function(e){return{data:e.data}}),(function(e){return Object(E.b)({getAllUsersDispatch:q},e)}))(Object(Le.a)(We)(Object(g.g)(Ge))),Ye=a(146),ze=a.n(Ye),He=a(272),qe=a(271),Je=a(270),Ve=r.a.forwardRef((function(e,t){return r.a.createElement(Je.a,Object.assign({direction:"up",ref:t},e))})),Ze=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleOpen=function(){a.setState({dialog:!0})},a.handleClose=function(){var e=a.state.errors;a.setState({dialog:!1}),e.body&&a.setState({body:"",errors:{}})},a.handleChange=function(e){a.setState({body:e.target.value})},a.handleSubmit=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,o,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.body,o=n.errors,c=a.props.postSparkDispatch,e.next=5,c(r);case 5:!r&&o.body&&a.handleClose();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={body:"",dialog:!1,errors:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.ui.errors&&this.setState({errors:e.ui.errors}),e.ui.errors||e.ui.loading||(this.setState({body:""}),this.handleClose())}},{key:"render",value:function(){var e=this,t=this.state,a=t.errors,n=t.dialog,o=t.body;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{tip:"add spark",onClick:function(){return e.handleOpen()}},r.a.createElement(ze.a,{color:"secondary"})),r.a.createElement(Me.a,{open:n,onClose:function(){return e.handleClose()},TransitionComponent:Ve,fullWidth:!0,maxWidth:"sm"},r.a.createElement(Pe.a,null,"Post a new Spark"),r.a.createElement(Re.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Ue.a,{name:"body",type:"text",variant:"outlined",margin:"normal",rows:"3",fullWidth:!0,placeholder:"Write something in 200 characters",error:!!a.body,helperText:a.body,onChange:this.handleChange,value:o}),r.a.createElement(qe.a,null,r.a.createElement(He.a,{type:"submit",variant:"contained",color:"secondary"},"Post"),r.a.createElement(He.a,{variant:"outlined",color:"primary",onClick:function(){return e.handleClose()}},"Cancel"))))))}}]),t}(n.Component),$e=Object(b.b)((function(e){return{ui:e.ui}}),(function(e){return Object(E.b)({postSparkDispatch:Y},e)}))(Ze),Qe=a(236),Xe=a(273),et=a(265),tt=a(274),at=a(275),nt=a(276),rt=a(284),ot=a(147),ct=a.n(ot),st=a(151),lt=a.n(st),it=a(148),ut=a.n(it),mt=a(89),pt=a.n(mt),dt=a(88),ht=a.n(dt),ft=a(149),gt=a.n(ft),bt=a(152),Et=a.n(bt),vt=a(150),yt=a.n(vt),kt={list:{width:Ce.isMobile?280:350,marginTop:5},fullList:{width:"auto"},closeIcon:{cursor:"pointer",width:60,marginTop:10},itemText:{color:"#151515"}},Ot=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={left:!1,open:!1},a.toggleDrawer=function(){var e=a.state.open;a.setState({open:!e})},a.logoutUser=Object(h.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.logoutUserDispatch,r=t.history,e.next=3,n();case 3:r.push("/login");case 4:case"end":return e.stop()}}),e)}))),a.goToProfile=function(){var e=a.props,t=e.history,n=e.user.credentials.username;t.push("/user/".concat(n)),window.location.reload()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.user.authenticated,n=r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{onClick:this.toggleDrawer,className:t.closeIcon},r.a.createElement(Xe.a,null,r.a.createElement(Ae.a,{color:"secondary"}))),r.a.createElement("div",{className:t.list,onClick:this.toggleDrawer},r.a.createElement(et.a,null,r.a.createElement(Qe.a,{component:f.b,to:"/"},r.a.createElement(Xe.a,null,r.a.createElement(ct.a,{color:"secondary"})),r.a.createElement(tt.a,{className:t.itemText},"Home")),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{component:f.b,onClick:this.goToProfile},r.a.createElement(Xe.a,null,r.a.createElement(ut.a,{color:"secondary"})),r.a.createElement(tt.a,{className:t.itemText},"Profile")),r.a.createElement(Qe.a,{component:f.b,to:"/users"},r.a.createElement(Xe.a,null,r.a.createElement(gt.a,{color:"secondary"})),r.a.createElement(tt.a,{className:t.itemText},"Following")),r.a.createElement(Qe.a,{component:f.b,to:"/chats"},r.a.createElement(Xe.a,null,r.a.createElement(yt.a,{color:"secondary"})),r.a.createElement(tt.a,{className:t.itemText},"Chat Room")),r.a.createElement(Qe.a,{component:f.b,onClick:this.logoutUser},r.a.createElement(Xe.a,null,r.a.createElement(lt.a,{color:"secondary"})),r.a.createElement(tt.a,{className:t.itemText},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a,{component:f.b,to:"/login"},r.a.createElement(Xe.a,null,r.a.createElement(ht.a,{color:"secondary"})),r.a.createElement(tt.a,{className:t.itemText},"Login")),r.a.createElement(Qe.a,{component:f.b,to:"/signup"},r.a.createElement(Xe.a,null,r.a.createElement(pt.a,{color:"secondary"})),r.a.createElement(tt.a,{className:t.itemText},"Signup"))))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(at.a,null,r.a.createElement(nt.a,null,r.a.createElement(de.a,{onClick:this.toggleDrawer},r.a.createElement(Et.a,{color:"secondary"})),r.a.createElement(rt.a,{open:this.state.open,onOpen:this.toggleDrawer,onClose:this.toggleDrawer,style:{color:"#151515"}},n),r.a.createElement("div",{className:"ml-auto"},r.a.createElement(Ke,null),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement($e,null),r.a.createElement(Se,null))))))}}]),t}(n.Component),wt=Object(b.b)((function(e){return{user:e.user}}),(function(e){return Object(E.b)({logoutUserDispatch:re},e)}))(Object(g.g)(Object(Le.a)(kt)(Ot))),jt=a(277),xt=a(104),St=a.n(xt),Ct=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).likedSpark=function(){var e=a.props,t=e.user,n=e.sparkId;return!(!t.likes||!t.likes.find((function(e){return e.sparkId===n})))},a.likeSpark=function(){var e=a.props;(0,e.likeSparkDispatch)(e.sparkId)},a.unlikeSpark=function(){var e=a.props;(0,e.unlikeSparkDispatch)(e.sparkId)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.props.user.authenticated?this.likedSpark()?r.a.createElement(Ne,{tip:"unlike",onClick:function(){return e.unlikeSpark()}},r.a.createElement(Oe.a,{color:"secondary"})):r.a.createElement(Ne,{tip:"like",onClick:function(){return e.likeSpark()}},r.a.createElement(St.a,{color:"secondary"})):r.a.createElement(f.b,{to:"/login"},r.a.createElement(Ne,{tip:"like"},r.a.createElement(St.a,{color:"secondary"})))}}]),t}(n.Component),Nt=Object(b.b)((function(e){return{user:e.user}}),(function(e){return Object(E.b)({likeSparkDispatch:B,unlikeSparkDispatch:G},e)}))(Ct),It=a(39),Dt=a.n(It),Tt={container:{marginTop:20},commentImage:{maxWidth:"100%",height:100,objectFit:"cover",borderRadius:"50%"},commentData:{marginLeft:20},visibleSeparator:{width:"100%",borderBottom:"1px solid rgba(0,0,0,0.1)",marginBottom:20},invisibleSeparator:{border:"none",margin:4},image:{width:Ce.isMobile?70:80,height:Ce.isMobile?70:80}},At=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.comments;return r.a.createElement(jt.a,{container:!0,className:t.container},a.map((function(e,o){var c=e.body,s=e.createdAt,l=e.userImage,i=e.username;return r.a.createElement(n.Fragment,{key:s,className:"m-t-40"},r.a.createElement(jt.a,{item:!0,sm:12},r.a.createElement(jt.a,{container:!0},r.a.createElement(jt.a,{item:!0,sm:2},r.a.createElement(Fe.a,{className:t.image,alt:"profile image",src:l})),r.a.createElement(jt.a,{item:!0,sm:9},r.a.createElement("div",{className:t.commentData},r.a.createElement(fe.a,{variant:"h5",component:f.b,to:"user/".concat(i),color:"secondary"},i),r.a.createElement(fe.a,{variant:"body1"},c),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(fe.a,{variant:"body2"},T()(s).format("h:mm a, MMMM DD YYYY")))))),o!==a.length-1&&r.a.createElement("hr",{className:t.visibleSeparator}))})))}}]),t}(n.Component),Mt=Dt()(Tt)(At),Pt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){var t=a.props,n=t.submitCommentDispatch,r=t.sparkId,o=a.state.comment;e.preventDefault(),n(r,o)},a.handleChange=function(e){a.setState({comment:e.target.value})},a.state={comment:"",errors:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.ui.errors&&this.setState({errors:e.ui.errors}),e.ui.errors||e.ui.loading||this.setState({comment:""})}},{key:"render",value:function(){var e=this.props.user.authenticated,t=this.state,a=t.comment,n=t.errors;return e?r.a.createElement("form",{onSubmit:this.handleSubmit,className:"comment-form pb-5"},r.a.createElement(jt.a,{container:!0,alignItems:"center"},r.a.createElement(jt.a,{item:!0,xs:Ce.isMobile?12:9},r.a.createElement(Ue.a,{name:"comment",variant:"outlined",type:"text",label:"Write a comment",error:!!n.comment,helperText:n.comment,value:a,onChange:this.handleChange,fullWidth:!0})),r.a.createElement(jt.a,{item:!0,xs:Ce.isMobile?12:3,style:{textAlign:"center"},className:"pt-3"},r.a.createElement(He.a,{variant:"contained",color:"secondary",type:"submit"},"Submit")))):null}}]),t}(n.Component),Rt=Object(b.b)((function(e){return{user:e.user,ui:e.ui}}),(function(e){return Object(E.b)({submitCommentDispatch:H},e)}))(Pt),Ut=a(153),Ft=a.n(Ut),_t=a(279),Lt={invisibleSeparator:{border:"none",margin:4},profileImage:{maxWidth:130,height:130,borderRadius:"50%",objectFit:"cover"},dialogContent:{padding:20},closeButton:{position:"absolute",left:"90%"},spinnerContain:{textAlign:"center",marginTop:Ce.isMobile?"80%":50,marginBottom:Ce.isMobile?"50%":50},likeBtn:{position:"relative",right:"5%",display:"flex",alignItems:"center"},image:{width:120,height:120}},Wt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleOpen=function(){var e=a.props,t=e.openSparkDispatch,n=e.sparkId,r=e.username,o=window.location.pathname,c="/user/".concat(r,"/spark/").concat(n);window.history.pushState(null,null,c),o===c&&(o="/user/".concat(r)),a.setState({dialog:!0,oldPath:o,newPath:c}),t(n)},a.handleClose=function(){a.setState({dialog:!1}),window.history.pushState(null,null,a.state.oldPath)},a.state={dialog:!1,newPath:"",oldPath:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.openDialog&&this.handleOpen()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.data,n=e.ui.loading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{tip:"open Spark",onClick:this.handleOpen,tipClassName:t.expandIcon},r.a.createElement(Ft.a,{color:"secondary"})),r.a.createElement(Me.a,{open:this.state.dialog,onClose:this.handleClose,fullScreen:!!Ce.isMobile,fullWidth:!Ce.isMobile,maxWidth:"sm"},r.a.createElement(Ne,{tip:"close",onClick:this.handleClose,tipClassName:t.closeButton},r.a.createElement(Ae.a,null)),r.a.createElement(Re.a,{className:t.dialogContent},n?r.a.createElement("div",{className:t.spinnerContain},r.a.createElement(_t.a,{color:"secondary"})):a.spark?r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{container:!0,spacing:2},r.a.createElement(jt.a,{item:!0,xs:Ce.isMobile?6:3},r.a.createElement(Fe.a,{className:t.image,alt:"profile image",src:a.spark.userImage})),r.a.createElement(jt.a,{item:!0,xs:6},r.a.createElement(fe.a,{component:f.b,color:"secondary",variant:"h5",to:"user/".concat(a.spark.username)},"@",a.spark.username),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(fe.a,{variant:"body1"},a.spark.body),r.a.createElement("hr",{className:t.invisibleSeparator}),r.a.createElement(fe.a,{variant:"body2",color:"textSecondary"},T()(a.spark.createdAt).format("h:mm a, MMMM DD YYYY")),r.a.createElement("div",{className:t.likeBtn},r.a.createElement(Nt,{sparkId:a.spark.sparkId}),r.a.createElement("span",{className:"pb-1"},a.spark.likeCount)))),r.a.createElement(Rt,{sparkId:a.spark.sparkId}),r.a.createElement(Mt,{comments:a.spark.comments})):null)))}}]),t}(n.Component),Bt=Object(b.b)((function(e){return{data:e.data,ui:e.ui}}),(function(e){return Object(E.b)({openSparkDispatch:z},e)}))(Dt()(Lt)(Wt)),Gt=a(154),Kt=a.n(Gt),Yt=r.a.forwardRef((function(e,t){return r.a.createElement(Je.a,Object.assign({direction:"up",ref:t},e))})),zt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleDialog=function(){var e=a.state.dialog;a.setState({dialog:!e})},a.deleteSpark=Object(h.a)(d.a.mark((function e(){var t,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.sparkId,r=t.deleteSparkDispatch,e.next=3,r(n);case 3:a.handleDialog();case 4:case"end":return e.stop()}}),e)}))),a.state={dialog:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.sparkId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{tip:"delete spark",onClick:function(){return e.handleDialog()},btnClassName:"delete-icon"},r.a.createElement(Kt.a,{color:"error"})),r.a.createElement(Me.a,{fullWidth:!0,maxWidth:"sm",TransitionComponent:Yt,open:this.state.dialog,onClose:this.handleDialog},r.a.createElement(Pe.a,null,"Are you sure you want to delete this spark?"),r.a.createElement(qe.a,null,r.a.createElement(He.a,{onClick:function(){return e.deleteSpark(t)},variant:"contained",style:{backgroundColor:"#E90C07",color:"#fff"}},"Delete"),r.a.createElement(He.a,{onClick:function(){return e.handleDialog()},variant:"contained",color:"secondary"},"Cancel"))))}}]),t}(n.Component),Ht=Object(b.b)(null,(function(e){return Object(E.b)({deleteSparkDispatch:K},e)}))(zt),qt=a(280),Jt=a(281),Vt={container:{margin:14},card:{display:"flex",backgroundColor:"#151515",color:"#fff",width:Ce.isMobile?"auto":"350px",height:"140px"},image:{marginTop:"15px",marginLeft:"10px"},content:{marginLeft:"10px",objectFit:"cover"}},Zt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).textTruncate=function(e){return e.length<=20?e:e.slice(0,20)+"...."},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){T.a.extend(M.a);var e=this.props,t=e.classes,a=e.spark,n=a.body,o=a.createdAt,c=a.username,s=a.userImage,l=a.sparkId,i=a.likeCount,u=a.commentCount,m=(a.userProfile,e.user);return r.a.createElement("div",{className:t.container,style:{width:Ce.isMobile?"90%":""}},r.a.createElement(jt.a,{container:!0,alignItems:"center"},r.a.createElement(jt.a,{item:!0,xs:12},r.a.createElement(qt.a,{className:t.card},r.a.createElement(Fe.a,{className:t.image,alt:"profile image",src:s}),r.a.createElement(Jt.a,{className:t.content},r.a.createElement(fe.a,{variant:"h5",color:"secondary",component:f.b,to:"/user/".concat(c)},c),r.a.createElement(fe.a,{variant:"body1"},this.textTruncate(n)),r.a.createElement(fe.a,{variant:"body2"},T()(o).fromNow()),r.a.createElement(Nt,{sparkId:l}),r.a.createElement("span",null,i),r.a.createElement(Ne,{tip:"comments"},r.a.createElement(je.a,{color:"secondary"})),r.a.createElement("span",null,u),r.a.createElement(Bt,{username:c,sparkId:l,openDialog:this.props.openDialog}),m.authenticated&&m.credentials.username===c&&r.a.createElement(Ht,{sparkId:l}))))))}}]),t}(n.Component),$t=Object(b.b)((function(e){return{user:e.user}}),null)(Dt()(Vt)(Zt)),Qt=a(90),Xt=function(){return r.a.createElement(Qt.a,{speed:3,width:Ce.isMobile?"auto":350,height:100,viewBox:"0 0 350 100",backgroundColor:"#CCCCCC",foregroundColor:"#FCCE07"},r.a.createElement("rect",{x:"66",y:"12",rx:"0",ry:"0",width:"340",height:"7"}),r.a.createElement("circle",{cx:"38",cy:"25",r:"18"}),r.a.createElement("rect",{x:"67",y:"32",rx:"0",ry:"0",width:"323",height:"7"}),r.a.createElement("rect",{x:"66",y:"52",rx:"0",ry:"0",width:"299",height:"7"}))},ea=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getSparksDispatch()}},{key:"render",value:function(){var e=this.props.data,t=e.sparks,a=e.loading?Array.from({length:18}).map((function(e,t){return r.a.createElement(Xt,{key:t})})):t.map((function(e){return r.a.createElement($t,{key:e.sparkId,spark:e})}));return r.a.createElement("div",{className:"container"},r.a.createElement(wt,null),r.a.createElement(jt.a,{container:!0},Ce.isMobile?r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{item:!0,xs:12},a)):r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{item:!0,xs:12},r.a.createElement("div",{className:"spark-container"},a)))))}}]),t}(n.Component),ta=Object(b.b)((function(e){return{data:e.data}}),(function(e){return Object(E.b)({getSparksDispatch:L},e)}))(ea),aa=a(155),na=a.n(aa),ra=a(282),oa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){"email"===e.target.name?a.setState({email:e.target.value}):a.setState({password:e.target.value})},a.handleSubmit=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,o,c,s,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.email,o=n.password,c=a.props,s=c.loginUserDispatch,l=c.history,t.preventDefault(),a.setState({loading:!0}),i={email:r,password:o},e.next=7,s(i,l);case 7:a.setState({loading:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:"",loading:!1,errors:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.ui.errors&&this.setState({errors:e.ui.errors})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.loading,o=e.errors;return r.a.createElement(jt.a,{container:!0,className:"form-contain",style:Ce.isMobile?{backgroundImage:""}:{backgroundImage:"url(".concat(na.a,")"),padding:"50px"}},r.a.createElement(jt.a,{item:!0,xs:12,sm:8,md:5,elevation:6,square:!0},r.a.createElement("div",{className:"form"},r.a.createElement(fe.a,{variant:"h5"},"Welcome to Social Spark"),r.a.createElement(Fe.a,null,r.a.createElement(ht.a,{color:"primary"})),r.a.createElement(fe.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Ue.a,{variant:"outlined",margin:"normal",onChange:this.handleInput,value:t,className:"text-feild",helperText:o.email,error:!!o.email,fullWidth:!0,id:"email",label:"Email",name:"email"}),r.a.createElement(Ue.a,{variant:"outlined",onChange:this.handleInput,value:a,helperText:o.password,error:!!o.password,margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),o.general&&r.a.createElement(fe.a,{className:"form-error m-t-10 m-b-10"},o.general),r.a.createElement(He.a,{type:"submit",fullWidth:!0,variant:"contained",margin:"normal",color:"primary",disabled:n},"Login"),n&&r.a.createElement(ra.a,{className:"m-t-10",variant:"query",color:"primary"})),r.a.createElement(f.b,{className:"mt-4 mr-auto",to:"/signup"},"Don't have an account? Sign Up"))))}}]),t}(r.a.Component),ca=Object(b.b)((function(e){return{user:e.user,ui:e.ui}}),(function(e){return Object(E.b)({loginUserDispatch:te},e)}))(oa),sa=a(156),la=a.n(sa),ia=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInput=function(e){"email"===e.target.name?a.setState({email:e.target.value}):"password"===e.target.name?a.setState({password:e.target.value}):"confirmPassword"===e.target.name?a.setState({confirmPassword:e.target.value}):a.setState({username:e.target.value})},a.handleSubmit=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,o,c,s,l,i,u,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.email,o=n.password,c=n.confirmPassword,s=n.username,l=a.props,i=l.signinUserDispatch,u=l.history,t.preventDefault(),a.setState({loading:!0}),m={email:r,password:o,confirmPassword:c,username:s},e.next=7,i(m,u);case 7:a.setState({loading:!1});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={email:"",password:"",confirmPassword:"",username:"",loading:!1,errors:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.ui.errors&&this.setState({errors:e.ui.errors})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.confirmPassword,o=e.username,c=e.loading,s=e.errors;return r.a.createElement(jt.a,{container:!0,className:"form-contain",style:Ce.isMobile?{backgroundImage:""}:{backgroundImage:"url(".concat(la.a,")"),padding:"50px"}},r.a.createElement(jt.a,{item:!0,xs:12,sm:8,md:5,elevation:6,square:!0},r.a.createElement("div",{className:"form"},r.a.createElement(fe.a,{variant:"h5"},"Welcome to Social Spark"),r.a.createElement(Fe.a,null,r.a.createElement(pt.a,{color:"primary"})),r.a.createElement(fe.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(Ue.a,{variant:"outlined",margin:"normal",onChange:this.handleInput,value:t,helperText:s.email,error:!!s.email,fullWidth:!0,id:"email",label:"Email",name:"email"}),r.a.createElement(Ue.a,{variant:"outlined",onChange:this.handleInput,value:a,helperText:s.password,error:!!s.password,margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),r.a.createElement(Ue.a,{variant:"outlined",margin:"normal",onChange:this.handleInput,value:n,helperText:s.confirmPassword,error:!!s.confirmPassword,fullWidth:!0,id:"confirmPassword",type:"password",label:"Confirm Password",name:"confirmPassword"}),r.a.createElement(Ue.a,{variant:"outlined",margin:"normal",onChange:this.handleInput,value:o,helperText:s.username,error:!!s.username,fullWidth:!0,id:"username",label:"Username",name:"username"}),s.general&&r.a.createElement(fe.a,{variant:"body2",className:"form-error m-t-10"},s.general),r.a.createElement(He.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:c},"Log In"),c&&r.a.createElement(ra.a,{className:"m-t-10",variant:"query",color:"primary"})),r.a.createElement(f.b,{className:"mt-4 mr-auto",to:"/login"},"Have an account? Log In"))))}}]),t}(r.a.Component),ua=Object(b.b)((function(e){return{user:e.user,ui:e.ui}}),(function(e){return Object(E.b)({signinUserDispatch:ae},e)}))(ia),ma=a(105),pa=a.n(ma);a(228);pa.a.initializeApp({apiKey:"AIzaSyDSZMhmqgMR3ipHT-djY45OJiG9D74lj-0",authDomain:"social-media-8d6da.firebaseapp.com",databaseURL:"https://social-media-8d6da.firebaseio.com",projectId:"social-media-8d6da",storageBucket:"social-media-8d6da.appspot.com",messagingSenderId:"96003977033",appId:"1:96003977033:web:2ba6527dc76859151bb498",measurementId:"G-ZWWMN040FF"});var da=pa.a.firestore(),ha=a(157),fa=a.n(ha),ga=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.deleteMessage=function(){var e=Object(h.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.deleteMessageDispatch,e.next=3,n(t);case 3:a.handleClose();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={anchorEl:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,a=this.props,n=a.classes,o=a.messageId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{"aria-controls":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleOpen,className:n.icon},r.a.createElement(fa.a,{fontSize:"small",color:"secondary"})),r.a.createElement(me.a,{anchorEl:t,open:Boolean(t),onClose:this.handleClose,onEntered:this.onMenuOpened,className:"over-auto"},r.a.createElement(pe.a,null,r.a.createElement("div",{onClick:function(){return e.deleteMessage(o)}},r.a.createElement(fe.a,{variant:"body1"},"Delete")))))}}]),t}(n.Component),ba=Object(b.b)(null,(function(e){return Object(E.b)({deleteMessageDispatch:Z},e)}))(Object(Le.a)({icon:{padding:0}})(ga)),Ea=a(158),va=a.n(Ea),ya={chatLeft:{display:"flex",flexDirection:"column",marginBottom:30,alignItems:"flex-start"},chatRight:{display:"flex",flexDirection:"column",marginBottom:30,alignItems:"flex-end"},avatar:{width:20,height:20,marginLeft:5},createdAt:{fontSize:10,color:"grey"},spinner:{textAlign:"center",marginTop:Ce.isMobile?"80%":"20%",marginBottom:Ce.isMobile?"50%":50}},ka=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).listenToNewMessages=function(){da.collection("messages").onSnapshot((function(){e.getUpdatedMessages()}))},e.getAllChats=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,e.props.getAllMessagesDispatch();case 3:e.setState({loading:!1}),e.scrollToBottom();case 5:case"end":return t.stop()}}),t)}))),e.getUpdatedMessages=Object(h.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.getAllMessagesDispatch,t.next=3,a();case 3:e.scrollToBottom();case 4:case"end":return t.stop()}}),t)}))),e.scrollToBottom=function(){e.el.scrollIntoView(!1,{behavior:"smooth"})},e.handleInput=function(t){e.setState({input:t.target.value})},e.handleSubmit=function(){var t=Object(h.a)(d.a.mark((function t(a){var n,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.input,r=e.props.postNewMessageDispatch,a.preventDefault(),e.setState({input:""}),t.next=6,r(n);case 6:e.listenToNewMessages(),e.scrollToBottom();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={loading:!1,input:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAllChats();case 2:this.listenToNewMessages();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;T.a.extend(M.a);var t=this.state,a=t.input,n=t.loading,o=this.props,c=o.user.credentials.username,s=o.data,l=o.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat-container",ref:function(t){e.el=t}},n?r.a.createElement("div",{className:l.spinner},r.a.createElement(_t.a,{color:"secondary",size:Ce.isMobile?40:50})):s.messages&&s.messages.map((function(e){return r.a.createElement("div",{className:c===e.username?l.chatRight:l.chatLeft,key:e.messageId},r.a.createElement("div",{className:"flex-row align-items-center"},r.a.createElement(fe.a,{variant:"body1",color:"secondary"},e.username),r.a.createElement(Fe.a,{src:e.userImage,className:l.avatar}),c===e.username&&r.a.createElement(ba,{messageId:e.messageId})),r.a.createElement("div",{className:l.messageBody},r.a.createElement(fe.a,{variant:"body1"},e.body)),r.a.createElement(fe.a,{variant:"body2",className:l.createdAt},T()(e.createdAt).fromNow()))}))),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"chat-form-contain"},r.a.createElement("div",{className:"flex-row align-items-center chat-form"},r.a.createElement(Ue.a,{onChange:this.handleInput,value:a,placeholder:"Type Message",fullWidth:!0}),r.a.createElement(de.a,{type:"submit"},r.a.createElement(va.a,{color:"secondary"}))))))}}]),t}(n.Component),Oa=Object(b.b)((function(e){return{data:e.data,user:e.user}}),(function(e){return Object(E.b)({getAllMessagesDispatch:J,postNewMessageDispatch:V},e)}))(Object(Le.a)(ya)(ka)),wa=function(){return r.a.createElement(Qt.a,{speed:3,width:350,height:475,viewBox:"0 0 350 475",backgroundColor:"#CCCCCC",foregroundColor:"#FCCE07"},r.a.createElement("rect",{x:"65",y:"312",rx:"2",ry:"2",width:"232",height:"17"}),r.a.createElement("rect",{x:"11",y:"79",rx:"2",ry:"2",width:"400",height:"212"}),r.a.createElement("rect",{x:"65",y:"337",rx:"2",ry:"2",width:"232",height:"17"}),r.a.createElement("rect",{x:"66",y:"364",rx:"2",ry:"2",width:"232",height:"17"}),r.a.createElement("rect",{x:"65",y:"389",rx:"2",ry:"2",width:"232",height:"17"}))},ja={closeButton:{position:"absolute",left:Ce.isMobile?" 87%":"90%",top:"1%"},username:{marginLeft:15,cursor:"pointer"}},xa=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dialog:!1},a.handleDialog=function(){var e=a.state.dialog;a.setState({dialog:!e})},a.goToUser=function(e){a.props.history.push("/user/".concat(e)),window.location.reload()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.followers,n=t.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"mr-5",onClick:this.handleDialog,style:{cursor:"pointer"}},r.a.createElement(fe.a,{color:"primary",variant:"h6"},"Followers: ",a.length)),r.a.createElement(Me.a,{open:this.state.dialog,onClose:this.handleClose,fullScreen:!!Ce.isMobile,fullWidth:!Ce.isMobile,maxWidth:"sm"},r.a.createElement(Pe.a,null,"Followers"),r.a.createElement(Ne,{tip:"close",onClick:this.handleDialog,tipClassName:n.closeButton},r.a.createElement(Ae.a,null)),r.a.createElement(Re.a,null,0===a.length?r.a.createElement("div",{className:"text-center p-50"},"No users found"):a.map((function(t,o){return r.a.createElement("div",{key:t.username},r.a.createElement("div",{className:"flex-row align-items-center"},r.a.createElement(Fe.a,{src:t.userImage,className:n.image}),r.a.createElement("a",{onClick:function(){return e.goToUser(t.username)}},r.a.createElement(fe.a,{color:"secondary",variant:"h5",className:n.username},t.username))),o!==a.length-1&&r.a.createElement("hr",null))})))))}}]),t}(n.Component),Sa=Object(g.g)(Dt()(ja)(xa)),Ca={closeButton:{position:"absolute",left:Ce.isMobile?" 87%":"90%",top:"1%"},username:{marginLeft:15,cursor:"pointer"}},Na=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dialog:!1},a.handleDialog=function(){var e=a.state.dialog;a.setState({dialog:!e})},a.goToUser=function(e){a.props.history.push("/user/".concat(e)),window.location.reload()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.following,n=t.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"mr-5 flex-row align-items-center",onClick:this.handleDialog,style:{cursor:"pointer"}},r.a.createElement(fe.a,{color:"primary",variant:"h6"},"Following: ",a.length)),r.a.createElement(Me.a,{open:this.state.dialog,onClose:this.handleClose,fullScreen:!!Ce.isMobile,fullWidth:!Ce.isMobile,maxWidth:"sm"},r.a.createElement(Pe.a,null,"Following"),r.a.createElement(Ne,{tip:"close",onClick:this.handleDialog,tipClassName:n.closeButton},r.a.createElement(Ae.a,null)),r.a.createElement(Re.a,null,0===a.length?r.a.createElement("div",{className:"text-center p-50"},"No users found"):a.map((function(t,o){return r.a.createElement("div",{key:t.username},r.a.createElement("div",{className:"flex-row align-items-center"},r.a.createElement(Fe.a,{src:t.userImage,className:n.image}),r.a.createElement("a",{onClick:function(){return e.goToUser(t.username)}},r.a.createElement(fe.a,{color:"secondary",variant:"h5",className:n.username},t.username))),o!==a.length-1&&r.a.createElement("hr",null))})))))}}]),t}(n.Component),Ia=Object(g.g)(Dt()(Ca)(Na)),Da=a(91),Ta=a.n(Da),Aa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleDialog=function(){var e=a.state.dialog;a.setState({dialog:!e})},a.handleChange=function(e){"bio"===e.target.name?a.setState({bio:e.target.value}):"location"===e.target.name?a.setState({location:e.target.value}):a.setState({website:e.target.value})},a.submitDetails=Object(h.a)(d.a.mark((function e(){var t,n,r,o,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.bio,r=t.location,o=t.website,c=a.props.updateDetailsDispatch,s={bio:n,location:r,website:o},e.next=5,c(s);case 5:a.props.getuserProfileInfo(),a.handleDialog();case 7:case"end":return e.stop()}}),e)}))),a.state={bio:"",website:"",location:"",dialog:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.user.credentials;this.setState({bio:e.bio?e.bio:"",website:e.website?e.website:"",location:e.location?e.location:""})}},{key:"render",value:function(){var e=this.state,t=e.bio,a=e.website,n=e.location,o=e.dialog;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{tip:"Edit/Add Details",onClick:this.handleDialog},r.a.createElement(Ta.a,{color:"primary"})),r.a.createElement(Me.a,{open:o,onClose:this.handleDialog,"aria-labelledby":"form-dialog-title"},r.a.createElement(Pe.a,{id:"form-dialog-title"},"Add Personal Details"),r.a.createElement(Re.a,null,r.a.createElement(Ue.a,{autoFocus:!0,variant:"outlined",margin:"normal",id:"bio",label:"bio",name:"bio",type:"text",fullWidth:!0,onChange:this.handleChange,value:t}),r.a.createElement(Ue.a,{autoFocus:!0,variant:"outlined",margin:"normal",id:"location",name:"location",label:"location",type:"text",fullWidth:!0,onChange:this.handleChange,value:n}),r.a.createElement(Ue.a,{autoFocus:!0,variant:"outlined",margin:"normal",id:"website",name:"website",label:"website",type:"text",onChange:this.handleChange,fullWidth:!0,value:a})),r.a.createElement(qe.a,null,r.a.createElement(He.a,{variant:"contained",onClick:this.submitDetails,color:"secondary"},"Update"),r.a.createElement(He.a,{variant:"outlined",onClick:this.handleDialog,color:"primary"},"Cancel"))))}}]),t}(n.Component),Ma=Object(b.b)((function(e){return{user:e.user}}),(function(e){return Object(E.b)({updateDetailsDispatch:ce},e)}))(Aa),Pa=a(108),Ra=a(159),Ua=a.n(Ra),Fa=a(160),_a=a.n(Fa),La=a(161),Wa=a.n(La),Ba={image:{width:"100%",height:Ce.isMobile?180:240},imageInput:{position:"relative",bottom:"25px",background:"#fff",left:"80%"},visibleSeparator:{width:"90%",borderBottom:"0.5px solid rgba(0,0,0,0.1)"}},Ga=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleImageChange=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],(r=new FormData).append("image",n,n.name),e.next=5,a.props.uploadImageDispatch(r);case 5:a.props.getuserProfileInfo();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleEditPicture=function(){document.getElementById("image-input").click()},a.followUser=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.followUserDispatch,o=n.getuserProfileInfo,e.next=3,r(t);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.unFollowUser=function(){var e=Object(h.a)(d.a.mark((function e(t){var n,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.unFollowUserDispatch,o=n.getuserProfileInfo,e.next=3,r(t);case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user.credentials,o=t.profile,c=t.getuserProfileInfo,s=o.followers.find((function(e){return e.username===n.username}));return o.username&&r.a.createElement("div",{className:"m-l-20 m-r-20"},r.a.createElement(Pa.a,{elevation:8,className:"paper profile"},r.a.createElement("div",{className:""},r.a.createElement(Fe.a,{src:o.imageUrl,className:a.image,variant:"rounded"}),n.username===o.username&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne,{tip:"Change Profile Pic",onClick:this.handleEditPicture,tipClassName:a.imageInput},r.a.createElement(Ta.a,{color:"primary"})),r.a.createElement("input",{type:"file",id:"image-input",hidden:"hidden",onChange:this.handleImageChange})),n.username!==o.username&&r.a.createElement("div",{className:"text-center m-t-20 m-b-10"},s?r.a.createElement(He.a,{variant:"contained",color:"secondary",onClick:function(){return e.unFollowUser(o.username)}},"Unfollow"):r.a.createElement(He.a,{variant:"contained",color:"secondary",onClick:function(){return e.followUser(o.username)}},"Follow")),r.a.createElement("div",{className:"flex-row justify-content-center align-items-center"},r.a.createElement(Sa,{followers:o.followers}),r.a.createElement(Ia,{following:o.following}))),r.a.createElement("hr",{className:a.visibleSeparator}),r.a.createElement("div",{className:"flex-column align-items-center p-r-50 p-l-50 p-t-20 p-b-20"},r.a.createElement(fe.a,{color:"secondary",variant:"h5"},o.username),o.bio&&r.a.createElement(fe.a,{className:"m-t-10",variant:"body2"},o.bio),o.location&&r.a.createElement("div",{className:"flex-row align-items-center m-t-10"},r.a.createElement(Ua.a,{color:"primary"}),r.a.createElement("span",{className:"ml-3"},o.location)),o.website&&r.a.createElement("div",{className:"flex-row align-items-center m-t-10"},r.a.createElement(_a.a,{color:"primary"}),r.a.createElement("a",{className:"ml-3",href:o.website,target:"_blank",rel:"noopener noreferrer"},o.website)),r.a.createElement("div",{className:"flex-row align-items-center m-t-10"},r.a.createElement(Wa.a,{color:"primary"})," ",r.a.createElement("span",{className:"ml-3"},"Joined ",T()(o.createdAt).format("DD MMM YYYY"))),n.username===o.username&&r.a.createElement("div",{className:"ml-auto"},r.a.createElement(Ma,{getuserProfileInfo:c})))))}}]),t}(n.Component),Ka=Object(b.b)((function(e){return{user:e.user}}),(function(e){return Object(E.b)({uploadImageDispatch:oe,followUserDispatch:ie,unFollowUserDispatch:ue},e)}))(Dt()(Ba)(Ga)),Ya=a(106),za=a.n(Ya),Ha=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getuserProfileInfo=function(){var e=a.props.match.params.username;a.setState({profile:null}),R.a.get("/user/".concat(e)).then((function(e){a.setState({profile:e.data.user})})).catch((function(e){console.log(e)}))},a.state={profile:null,sparkIdParam:null,loading:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params,t=e.username,a=e.sparkId;a&&this.setState({sparkIdParam:a}),this.getuserProfileInfo(),this.props.getUserDispatch(t)}},{key:"render",value:function(){var e=this.props.data,t=e.sparks,a=e.loading,n=this.state.sparkIdParam,o=a?Array.from({length:12}).map((function(e,t){return r.a.createElement(Xt,{key:t})})):0===t.length?r.a.createElement("div",{className:"m-t-20"},r.a.createElement("p",{className:"text-center"},"No Sparks from this user"),Ce.isMobile?r.a.createElement("img",{src:za.a,width:"410px",alt:"avatar",height:"340px"}):r.a.createElement("img",{src:za.a,alt:"avatar",width:"800px",height:"500px"})):n?t.map((function(e){return e.sparkId===n?r.a.createElement($t,{userProfile:!0,key:e.sparkId,spark:e,openDialog:!0}):r.a.createElement($t,{userProfile:!0,key:e.sparkId,spark:e})})):t.map((function(e){return r.a.createElement($t,{userProfile:!0,key:e.sparkId,spark:e})}));return r.a.createElement("div",{className:"container"},r.a.createElement(wt,null),r.a.createElement(jt.a,{container:!0},Ce.isMobile?r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{item:!0,xs:12,className:"flex-row justify-content-center"},null===this.state.profile?r.a.createElement(wa,null):r.a.createElement(Ka,{profile:this.state.profile,getuserProfileInfo:this.getuserProfileInfo})),r.a.createElement(jt.a,{item:!0,xs:12,className:"flex-row wrap",style:{marginLeft:"10px"}},o)):r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{item:!0,xs:3,className:"flex-row"},null===this.state.profile?r.a.createElement("div",{style:{marginLeft:"10px"}},r.a.createElement(wa,null)):r.a.createElement(Ka,{profile:this.state.profile,getuserProfileInfo:this.getuserProfileInfo})),r.a.createElement(jt.a,{item:!0,xs:9,className:"flex-row wrap"},o))))}}]),t}(n.Component),qa=Object(b.b)((function(e){return{user:e.user,data:e.data}}),(function(e){return Object(E.b)({getUserDispatch:se},e)}))(Object(g.g)(Ha)),Ja=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getFollowingUserSparks()}},{key:"render",value:function(){var e=this.props.data,t=e.sparks,a=e.loading?Array.from({length:18}).map((function(e,t){return r.a.createElement(Xt,{key:t})})):t.map((function(e){return r.a.createElement($t,{key:e.sparkId,spark:e})}));return r.a.createElement("div",{className:"container"},r.a.createElement(wt,null),r.a.createElement(jt.a,{container:!0},Ce.isMobile?r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{item:!0,xs:12},a)):r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{item:!0,xs:12},r.a.createElement("div",{className:"spark-container"},a)))))}}]),t}(n.Component),Va=Object(b.b)((function(e){return{data:e.data}}),(function(e){return Object(E.b)({getFollowingUserSparks:W},e)}))(Ja),Za=a(2),$a=Object(b.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(Za.a)(e,["component","authenticated"]);return r.a.createElement(g.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(g.a,{to:"/"}):r.a.createElement(t,e)}}))})),Qa=(a(231),a(162)),Xa=a(278);R.a.defaults.baseURL="https://us-central1-social-media-8d6da.cloudfunctions.net/api";var en=Object(Qa.a)({palette:{primary:{light:"#090909",main:"#151515",dark:"#3e3e3e",contrastText:"#fff"},secondary:{light:"#fcd738",main:"#FCCE07",dark:"#b09004",contrastText:"#000"}},typography:{useNextVariants:!0}}),tn=function(){var e=Object(h.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.dispatch({type:"SET_AUTHENTICATED"});case 2:return e.next=4,C.dispatch(ne());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=localStorage.FBToken;an&&(1e3*I()(an).exp<Date.now()?(C.dispatch(re()),window.location.href="/login"):(R.a.defaults.headers.common.Authorization=an,tn()));var nn=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Xa.a,{theme:en},r.a.createElement(b.a,{store:C},r.a.createElement(f.a,null,r.a.createElement("div",null,r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",component:ta}),r.a.createElement($a,{exact:!0,path:"/login",component:ca}),r.a.createElement($a,{exact:!0,path:"/signup",component:ua}),r.a.createElement(g.b,{exact:!0,path:"/user/:username",component:qa}),r.a.createElement(g.b,{exact:!0,path:"/users",component:Va}),r.a.createElement(g.b,{exact:!0,path:"/user/:username/spark/:sparkId",component:qa}),r.a.createElement(g.b,{exact:!0,path:"/chats",component:Oa}))))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(nn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[176,1,2]]]);
//# sourceMappingURL=main.ae68ba5a.chunk.js.map