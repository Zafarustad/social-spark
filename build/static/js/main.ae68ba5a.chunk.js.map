{"version":3,"sources":["assets/empty.png","assets/login2.png","assets/signup.png","Reducers/userReducer.js","Reducers/dataReducer.js","Reducers/uiReducer.js","Reducers/store.js","Reducers/types.js","Actions/dataActions.js","Actions/userActions.js","Components/Notifications.js","Components/MyButton.js","Components/UserSearch.js","Components/PostSpark.js","Components/MobileNav.js","Components/LikeButton.js","Components/Comments.js","Components/CommentForm.js","Components/SparkDialog.js","Components/DeleteSpark.js","Components/Spark.js","Loaders/SparkLoader.js","Pages/home.js","Pages/login.js","Pages/signup.js","Utils/firebaseService.js","Components/Options.js","Components/ChatRoom.js","Loaders/ProfileLoader.js","Components/Followers.js","Components/Following.js","Components/AddDetails.js","Components/StaticProfile.js","Components/User.js","Components/FollowingUserSparks.js","Utils/AuthRoute.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","initialState","authenticated","credentials","likes","notifications","loading","profile","spark","sparks","users","messages","errors","middleware","thunk","reducers","combineReducers","user","state","action","type","payload","sparkId","username","filter","like","index","findIndex","notification","notificationId","read","data","likeCount","splice","comments","message","messageId","ui","store","createStore","compose","applyMiddleware","getSparksAction","postSparkAction","submitCommentACtion","getSparksDispatch","dispatch","a","axios","get","res","console","log","getFollowingUserSparks","likeSparkDispatch","unlikeSparkDispatch","deleteSparkDispatch","delete","postSparkDispatch","post","body","triggerClearErrorAction","triggerErrorAction","response","openSparkDispatch","loadingUserAction","submitCommentDispatch","getAllUsersDispatch","getAllMessagesDispatch","postNewMessageDispatch","deleteMessageDispatch","setAuthorizationHeader","token","FBToken","localStorage","setItem","defaults","headers","common","loginUserDispatch","history","setUserDataDispatch","push","signinUserDispatch","accessToken","logoutUserDispatch","removeItem","uploadImageDispatch","updateDetailsDispatch","getUserDispatch","markNotificationReadDispatch","followUserDispatch","unFollowUserDispatch","Notifications","props","handleOpen","event","setState","anchorEl","currentTarget","handleClose","setNotificationRead","recipient","sender","window","location","reload","dayjs","extend","relativeTime","notificationIcon","this","length","Badge","badgeContent","color","notificationMarkup","map","time","createdAt","fromNow","iconColor","icon","style","marginRight","MenuItem","key","onClick","Typography","variant","Tooltip","placement","title","IconButton","aria-controls","undefined","aria-haspopup","Menu","open","Boolean","onClose","onEntered","onMenuOpened","className","Component","connect","bindActionCreators","withRouter","MyButton","children","tip","btnClassName","tipClassName","styles","closeButton","position","left","isMobile","top","search","display","alignItems","searchIcon","avatar","width","height","cursor","filteredUsers","UserSearch","dialog","searchField","openDialog","closeDialog","handleSearch","target","value","toLowerCase","startsWith","goToProfile","pushState","classes","Dialog","fullScreen","fullWidth","maxWidth","DialogTitle","DialogContent","TextField","onChange","placeholder","userId","Avatar","src","userImage","to","Divider","withStyles","transition","React","forwardRef","ref","Slide","direction","PostSpark","handleChange","handleSubmit","preventDefault","nextProps","TransitionComponent","onSubmit","name","margin","rows","error","helperText","DialogActions","Button","list","marginTop","fullList","closeIcon","itemText","MobileNav","toggleDrawer","logoutUser","ListItem","ListItemIcon","List","component","Link","ListItemText","AppBar","Toolbar","SwipeableDrawer","onOpen","LikeButton","likedSpark","find","likeSpark","unlikeSpark","container","commentImage","objectFit","borderRadius","commentData","marginLeft","visibleSeparator","borderBottom","marginBottom","invisibleSeparator","border","image","Comments","Grid","comment","item","sm","alt","format","CommentForm","xs","label","textAlign","profileImage","dialogContent","padding","spinnerContain","likeBtn","right","SparkDialog","oldPath","pathname","newPath","expandIcon","CircularProgress","spacing","DeleteSpark","handleDialog","deleteSpark","backgroundColor","card","content","Spark","textTruncate","str","slice","commentCount","userProfile","Card","CardContent","MyLoader","speed","viewBox","foregroundColor","x","y","rx","ry","cx","cy","r","home","recentSparks","Array","from","SparkLoader","Login","handleInput","email","password","userData","backgroundImage","loginImg","md","elevation","square","id","general","disabled","LinearProgress","Signup","confirmPassword","newUser","signupImg","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","Options","deleteMessage","fontSize","chatLeft","flexDirection","chatRight","spinner","ChatRoom","listenToNewMessages","collection","onSnapshot","getUpdatedMessages","getAllChats","scrollToBottom","el","scrollIntoView","behavior","input","e","size","messageBody","Followers","goToUser","followers","follower","Following","following","AddDetails","bio","website","submitDetails","details","getuserProfileInfo","aria-labelledby","autoFocus","imageInput","bottom","background","StaticProfile","handleImageChange","files","formData","FormData","append","handleEditPicture","document","getElementById","click","followUser","unFollowUser","findUser","Paper","imageUrl","hidden","href","rel","User","match","params","then","catch","err","sparkIdParam","sparkMarkup","EmptySparks","ProfileLoader","FollowingUserSparks","rest","render","baseURL","theme","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","typography","useNextVariants","setAuthenticatedUser","jwtDecode","exp","Date","now","App","exact","path","login","signup","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ae68ba5a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/empty.03e375f8.png\";","module.exports = __webpack_public_path__ + \"static/media/login2.a311f37e.png\";","module.exports = __webpack_public_path__ + \"static/media/signup.b92341b3.png\";","import {\r\n  SET_USER,\r\n  SET_AUTHENTICATED,\r\n  SET_UNAUTHENTICATED,\r\n  LOADING_USER,\r\n  LIKE_SPARK,\r\n  UNLIKE_SPARK,\r\n  GET_USER_PROFILE,\r\n  MARK_NOTIFICATION_READ,\r\n} from './types';\r\n\r\nconst initialState = {\r\n  authenticated: false,\r\n  credentials: {},\r\n  likes: [],\r\n  notifications: [],\r\n  loading: false,\r\n  profile: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTHENTICATED:\r\n      return {\r\n        ...state,\r\n        authenticated: true,\r\n      };\r\n    case SET_UNAUTHENTICATED:\r\n      return initialState;\r\n\r\n    case SET_USER:\r\n      return {\r\n        authenticated: true,\r\n        loading: false,\r\n        ...action.payload,\r\n      };\r\n    case LOADING_USER:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case LIKE_SPARK:\r\n      return {\r\n        ...state,\r\n        likes: [\r\n          ...state.likes,\r\n          {\r\n            sparkId: action.payload.sparkId,\r\n            username: state.credentials.username,\r\n          },\r\n        ],\r\n      };\r\n    case UNLIKE_SPARK:\r\n      return {\r\n        ...state,\r\n        likes: state.likes.filter(\r\n          (like) => like.sparkId !== action.payload.sparkId\r\n        ),\r\n      };\r\n\r\n    case GET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.payload,\r\n      };\r\n\r\n    case MARK_NOTIFICATION_READ:\r\n      let index = state.notifications.findIndex(\r\n        (notification) => notification.notificationId === action.payload\r\n      );\r\n      state.notifications[index].read = true;\r\n      return {\r\n        ...state,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  LOADING_DATA,\r\n  SET_SPARKS,\r\n  LIKE_SPARK,\r\n  UNLIKE_SPARK,\r\n  DELETE_SPARK,\r\n  POST_SPARK,\r\n  SET_SPARK,\r\n  SUBMIT_COMMENT,\r\n  GET_ALL_USERS,\r\n  GET_MESSAGES,\r\n  POST_MESSAGE,\r\n  DELETE_MESSAGE,\r\n} from '../Reducers/types';\r\n\r\nconst initialState = {\r\n  spark: {},\r\n  sparks: [],\r\n  loading: false,\r\n  users: [],\r\n  messages: [],\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADING_DATA:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case SET_SPARKS:\r\n      return {\r\n        sparks: action.payload,\r\n        loading: false,\r\n      };\r\n    case LIKE_SPARK:\r\n    case UNLIKE_SPARK: {\r\n      let index = state.sparks.findIndex(\r\n        (spark) => spark.sparkId === action.payload.sparkId\r\n      );\r\n\r\n      if (state.spark && state.spark.sparkId === action.payload.sparkId) {\r\n        state.spark.likeCount = action.payload.likeCount;\r\n      }\r\n      state.sparks[index] = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n    case DELETE_SPARK: {\r\n      let index = state.sparks.findIndex(\r\n        (spark) => spark.sparkId === action.payload\r\n      );\r\n      state.sparks.splice(index, 1);\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n\r\n    case POST_SPARK:\r\n      return {\r\n        ...state,\r\n        sparks: [action.payload, ...state.sparks],\r\n      };\r\n    case SET_SPARK:\r\n      return {\r\n        ...state,\r\n        spark: action.payload,\r\n      };\r\n\r\n    case SUBMIT_COMMENT:\r\n      let index = state.sparks.findIndex(\r\n        (spark) => spark.sparkId === action.payload.sparkId\r\n      );\r\n      // let spark = state.sparks[index]\r\n      // if(state.spark.sparkId === action.payload.sparkId) {\r\n      // spark.commentCount += 1;\r\n      // }\r\n      return {\r\n        ...state,\r\n        spark: {\r\n          ...state.spark,\r\n          comments: [action.payload, ...state.spark.comments],\r\n        },\r\n      };\r\n\r\n    case GET_ALL_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload,\r\n      };\r\n\r\n    case GET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: action.payload,\r\n      };\r\n\r\n    case POST_MESSAGE: {\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, action.payload],\r\n      };\r\n    }\r\n\r\n    case DELETE_MESSAGE: {\r\n      let index = state.messages.findIndex(\r\n        (message) => message.messageId === action.payload\r\n      );\r\n      state.messages.splice(index, 1);\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { LOADING_UI, SET_ERRORS, CLEAR_ERRORS, ON_LOADED_DATA } from \"./types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  errors: null\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: action.payload\r\n      };\r\n    case CLEAR_ERRORS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: null\r\n      };\r\n    case LOADING_UI:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n       case ON_LOADED_DATA:\r\n       return {\r\n         ...state,\r\n         loading: false\r\n       }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport userReducer from \"./userReducer\";\r\nimport dataReducer from \"./dataReducer\";\r\nimport uiReducer from \"./uiReducer\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst reducers = combineReducers({\r\n  user: userReducer,\r\n  data: dataReducer,\r\n  ui: uiReducer\r\n});\r\n\r\nconst store = createStore(\r\n  reducers,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","export const SET_USER = \"SET_USER\";\r\nexport const SET_ERRORS = \"SET_ERRORS\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\nexport const LOADING_UI = \"LOADING_UI\";\r\nexport const SET_AUTHENTICATED = 'SET_AUTHENTICATED';\r\nexport const SET_UNAUTHENTICATED = 'SET_UNAUTHENTICATED';\r\nexport const LOADING_USER = 'LOADING_USER';\r\nexport const LOADING_DATA = 'LOADING_DATA';\r\nexport const ON_LOADED_DATA = 'ON_LOADED_DATA';\r\nexport const SET_SPARKS = 'GET_SPARKS';\r\nexport const LIKE_SPARK = 'LIKE_SPARK';\r\nexport const UNLIKE_SPARK = 'UNLIKE_SPARK';\r\nexport const DELETE_SPARK = 'DELETE_SPARK';\r\nexport const POST_SPARK = 'POST_SPARK';\r\nexport const SET_SPARK = 'SET_SPARK';\r\nexport const SUBMIT_COMMENT = 'SUBMIT_COMMENT';\r\nexport const GET_USER = 'GET_USER';\r\nexport const GET_USER_PROFILE = 'GET_USER_PROFILE';\r\nexport const MARK_NOTIFICATION_READ = 'MARK_NOTIFICATION_READ'\r\nexport const FOLLOW_USER = 'FOLLOW_USER';\r\nexport const UNFOLLOW_USER = 'UNFOLLOW_USER';\r\nexport const GET_ALL_USERS = 'GET_ALL_USERS';\r\nexport const GET_MESSAGES = 'GET_MESSAGES';\r\nexport const POST_MESSAGE = 'POST_MESSAGE';\r\nexport const DELETE_MESSAGE = 'DELETE_MESSAGE';","import axios from 'axios';\r\nimport {\r\n  LOADING_DATA,\r\n  SET_SPARKS,\r\n  LIKE_SPARK,\r\n  UNLIKE_SPARK,\r\n  DELETE_SPARK,\r\n  POST_SPARK,\r\n  SET_SPARK,\r\n  ON_LOADED_DATA,\r\n  SUBMIT_COMMENT,\r\n  GET_ALL_USERS,\r\n  GET_MESSAGES,\r\n  POST_MESSAGE,\r\n  DELETE_MESSAGE\r\n} from '../Reducers/types';\r\nimport {\r\n  triggerClearErrorAction,\r\n  triggerErrorAction,\r\n  loadingUserAction,\r\n} from './userActions';\r\n\r\nexport const getSparksAction = (data) => ({\r\n  type: SET_SPARKS,\r\n  payload: data,\r\n});\r\n\r\nexport const loadingDataAction = () => ({\r\n  type: LOADING_DATA,\r\n});\r\n\r\nexport const likeSparkAction = (data) => ({\r\n  type: LIKE_SPARK,\r\n  payload: data,\r\n});\r\n\r\nexport const unlikeSparkAction = (data) => ({\r\n  type: UNLIKE_SPARK,\r\n  payload: data,\r\n});\r\n\r\nexport const deleteSparkAction = (data) => ({\r\n  type: DELETE_SPARK,\r\n  payload: data,\r\n});\r\n\r\nexport const postSparkAction = (data) => ({\r\n  type: POST_SPARK,\r\n  payload: data,\r\n});\r\n\r\nexport const openSparkAction = (data) => ({\r\n  type: SET_SPARK,\r\n  payload: data,\r\n});\r\n\r\nexport const submitCommentACtion = (data) => ({\r\n  type: SUBMIT_COMMENT,\r\n  payload: data,\r\n});\r\n\r\nexport const getAllUsersAction = (data) => ({\r\n  type: GET_ALL_USERS,\r\n  payload: data,\r\n});\r\n\r\nexport const getAllMessagesAction = (data) => ({\r\n  type: GET_MESSAGES,\r\n  payload: data,\r\n});\r\n\r\nexport const postNewMessageAction = (data) => ({\r\n  type: POST_MESSAGE,\r\n  payload: data,\r\n});\r\n\r\nexport const deleteMessageAction = (data) => ({\r\n  type: DELETE_MESSAGE,\r\n  payload: data\r\n})\r\n\r\nexport const getSparksDispatch = () => async (dispatch) => {\r\n  try {\r\n    dispatch(loadingDataAction());\r\n    const res = await axios.get('/sparks');\r\n    dispatch(getSparksAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getFollowingUserSparks = () => async (dispatch) => {\r\n  try {\r\n    dispatch(loadingDataAction());\r\n    const res = await axios.get('/following/sparks');\r\n    dispatch(getSparksAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const likeSparkDispatch = (sparkId) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/spark/${sparkId}/like`);\r\n    dispatch(likeSparkAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const unlikeSparkDispatch = (sparkId) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(`/spark/${sparkId}/unlike`);\r\n    dispatch(unlikeSparkAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const deleteSparkDispatch = (sparkId) => async (dispatch) => {\r\n  try {\r\n    await axios.delete(`/spark/${sparkId}/delete`);\r\n    dispatch(deleteSparkAction(sparkId));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const postSparkDispatch = (data) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post('/spark', { body: data });\r\n    dispatch(postSparkAction(res.data));\r\n    dispatch(triggerClearErrorAction());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(triggerErrorAction(err.response.data));\r\n  }\r\n};\r\n\r\nexport const openSparkDispatch = (sparkId) => async (dispatch) => {\r\n  try {\r\n    dispatch(loadingUserAction());\r\n    const res = await axios.get(`/spark/${sparkId}`);\r\n    dispatch(openSparkAction(res.data));\r\n    dispatch({ type: ON_LOADED_DATA });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const submitCommentDispatch = (sparkId, data) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post(`/spark/${sparkId}/comment`, {\r\n      body: data,\r\n    });\r\n    dispatch(submitCommentACtion(res.data));\r\n    dispatch(triggerClearErrorAction());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(triggerErrorAction(err.response.data));\r\n  }\r\n};\r\n\r\nexport const getAllUsersDispatch = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get('/users');\r\n    dispatch(getAllUsersAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const getAllMessagesDispatch = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get('/messages');\r\n    dispatch(getAllMessagesAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const postNewMessageDispatch = (message) => async (dispatch) => {\r\n  try {\r\n    const res = await axios.post('/message', { body: message });\r\n    dispatch(postNewMessageAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const deleteMessageDispatch = (messageId) => async (dispatch) => {\r\n  try {\r\n    await axios.delete(`/message/${messageId}/delete`);\r\n    dispatch(deleteMessageAction(messageId));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n","import axios from \"axios\";\r\nimport {\r\n  LOADING_UI,\r\n  SET_ERRORS,\r\n  SET_USER,\r\n  CLEAR_ERRORS,\r\n  SET_UNAUTHENTICATED,\r\n  SET_AUTHENTICATED,\r\n  LOADING_USER,\r\n  SET_SPARKS,\r\n  ON_LOADED_DATA,\r\n  GET_USER_PROFILE, \r\n  MARK_NOTIFICATION_READ,\r\n} from \"../Reducers/types\";\r\n\r\nimport { loadingDataAction } from \"./dataActions\";\r\n\r\nexport const loadingUserAction = () => ({\r\n  type: LOADING_UI\r\n});\r\n\r\nexport const setUserDataAction = data => ({\r\n  type: SET_USER,\r\n  payload: data\r\n});\r\n\r\nexport const triggerErrorAction = data => ({\r\n  type: SET_ERRORS,\r\n  payload: data\r\n});\r\n\r\nexport const triggerClearErrorAction = () => ({\r\n  type: CLEAR_ERRORS\r\n});\r\n\r\nexport const unauthenticateUserAction = () => ({\r\n  type: SET_UNAUTHENTICATED\r\n});\r\n\r\nexport const setAuthenticated = () => ({\r\n  type: SET_AUTHENTICATED\r\n});\r\n\r\nexport const laodingUserAction = () => ({\r\n  type: LOADING_USER\r\n});\r\n\r\nexport const getUserProfileAction = data => ({\r\n  type: GET_USER_PROFILE,\r\n  payload: data\r\n});\r\n\r\nexport const markNotificationReadAction = (data) => ({\r\n  type: MARK_NOTIFICATION_READ,\r\n  payload: data\r\n});\r\n\r\nexport const setAuthorizationHeader = token => {\r\n  const FBToken = `Bearer ${token}`;\r\n  localStorage.setItem(\"FBToken\", FBToken);\r\n  axios.defaults.headers.common[\"Authorization\"] = FBToken;\r\n};\r\n\r\nexport const loginUserDispatch = (data, history) => async dispatch => {\r\n  try {\r\n    const res = await axios.post(\"/login\", data);\r\n    setAuthorizationHeader(res.data.token);\r\n    dispatch(setUserDataDispatch());\r\n    history.push(\"/\");\r\n    dispatch(loadingUserAction());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(triggerErrorAction(err.response.data));\r\n  }\r\n};\r\n\r\nexport const signinUserDispatch = (data, history) => async dispatch => {\r\n  try {\r\n    const res = await axios.post(\"/signup\", data);\r\n    setAuthorizationHeader(res.data.accessToken);\r\n    dispatch(setUserDataDispatch());\r\n    dispatch(triggerClearErrorAction());\r\n    history.push(\"/\");\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(triggerErrorAction(err.response.data));\r\n  }\r\n};\r\n\r\nexport const setUserDataDispatch = () => async dispatch => {\r\n  try {\r\n    dispatch(laodingUserAction());\r\n    const res = await axios.get(\"/user\");\r\n    dispatch(setUserDataAction(res.data));\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(triggerErrorAction(err.response.data));\r\n  }\r\n};\r\n\r\nexport const logoutUserDispatch = () => dispatch => {\r\n  localStorage.removeItem(\"FBToken\");\r\n  delete axios.defaults.headers.common[\"Authorization\"];\r\n  dispatch(unauthenticateUserAction());\r\n};\r\n\r\nexport const uploadImageDispatch = data => async dispatch => {\r\n  try {\r\n    dispatch(laodingUserAction());\r\n    await axios.post(\"/user/image\", data);\r\n    dispatch(setUserDataDispatch());\r\n  } catch (err) {\r\n    console.log(err);\r\n    dispatch(triggerErrorAction(err.response.data));\r\n  }\r\n};\r\n\r\nexport const updateDetailsDispatch = data => async dispatch => {\r\n  try {\r\n    dispatch(laodingUserAction());\r\n    await axios.post(\"/user\", data);\r\n    // dispatch(getUserDispatch());\r\n  } catch (err) {\r\n    console.log(err);\r\n    console.log(triggerErrorAction(err.response.data));\r\n  }\r\n};\r\n\r\nexport const getUserDispatch = username => async dispatch => {\r\n  try {\r\n    dispatch(loadingDataAction());\r\n    const res = await axios.get(`/user/${username}`);\r\n    dispatch({\r\n      type: SET_SPARKS,\r\n      payload: res.data.sparks\r\n    });\r\n    dispatch({\r\n      type: ON_LOADED_DATA\r\n    });\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const markNotificationReadDispatch = (notificationId) => async dispatch => {\r\n  try {\r\n    await axios.post(`/notifications`, [notificationId]);\r\n    dispatch(markNotificationReadAction(notificationId));\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport const followUserDispatch = (username) => async (dispatch) => {\r\n  try {\r\n    await axios.get(`user/${username}/follow`)\r\n  }\r\n  catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nexport const unFollowUserDispatch = (username) => async (dispatch) => {\r\n  try {\r\n    await axios.get(`user/${username}/unfollow`)\r\n  }\r\n  catch(err) {\r\n    console.log(err)\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { markNotificationReadDispatch } from '../Actions/userActions';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport NotificationIcon from '@material-ui/icons/Notifications';\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nclass Notifications extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      anchorEl: null,\r\n    };\r\n  }\r\n\r\n  handleOpen = (event) => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  setNotificationRead = async (\r\n    notificationId,\r\n    recipient,\r\n    sender,\r\n    sparkId,\r\n    type\r\n  ) => {\r\n    const { history } = this.props;\r\n\r\n    await this.props.markNotificationReadDispatch(notificationId);\r\n    {\r\n      type === 'following'\r\n        ? history.push(`/user/${sender}`)\r\n        : history.push(`/user/${recipient}/spark/${sparkId}`);\r\n    }\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    dayjs.extend(relativeTime);\r\n    const {\r\n      user: { notifications },\r\n    } = this.props;\r\n    const { anchorEl } = this.state;\r\n\r\n    let notificationIcon;\r\n    if (notifications && notifications.length > 0) {\r\n      notifications.filter((notification) => notification.read === false)\r\n        .length > 0\r\n        ? (notificationIcon = (\r\n            <Badge\r\n              badgeContent={\r\n                notifications.filter(\r\n                  (notification) => notification.read === false\r\n                ).length\r\n              }\r\n              color='error'\r\n            >\r\n              <NotificationIcon color='secondary' />\r\n            </Badge>\r\n          ))\r\n        : (notificationIcon = <NotificationIcon color='secondary' />);\r\n    } else {\r\n      notificationIcon = <NotificationIcon color='secondary' />;\r\n    }\r\n\r\n    let notificationMarkup =\r\n      notifications && notifications.length > 0 ? (\r\n        notifications.map((notification) => {\r\n          const type =\r\n            notification.type === 'like'\r\n              ? 'liked'\r\n              : notification.type === 'comment'\r\n              ? 'commented on'\r\n              : 'following';\r\n          const time = dayjs(notification.createdAt).fromNow();\r\n          const iconColor = notification.read ? 'primary' : 'secondary';\r\n          const icon =\r\n            notification.type === 'like' ? (\r\n              <FavoriteIcon color={iconColor} style={{ marginRight: 10 }} />\r\n            ) : notification.type === 'comment' ? (\r\n              <ChatIcon color={iconColor} style={{ marginRight: 10 }} />\r\n            ) : (\r\n              <PersonAddIcon color={iconColor} style={{ marginRight: 10 }} />\r\n            );\r\n\r\n          return (\r\n            <MenuItem key={notification.createdAt} onClick={this.handleClose}>\r\n              {icon}\r\n              <div\r\n                onClick={() =>\r\n                  this.setNotificationRead(\r\n                    notification.notificationId,\r\n                    notification.recipient,\r\n                    notification.sender,\r\n                    notification.sparkId,\r\n                    type\r\n                  )\r\n                }\r\n              >\r\n                {type === 'liked' || type === 'commented on' ? (\r\n                  <Typography variant='body1'>\r\n                    {notification.sender} {type} your spark {time}\r\n                  </Typography>\r\n                ) : (\r\n                  <Typography variant='body1'>\r\n                    {notification.sender} started {type} you {time}\r\n                  </Typography>\r\n                )}\r\n              </div>\r\n            </MenuItem>\r\n          );\r\n        })\r\n      ) : (\r\n        <MenuItem onClick={this.handleClose}>\r\n          You have no notifications\r\n        </MenuItem>\r\n      );\r\n\r\n    return (\r\n      <>\r\n        <Tooltip placement='bottom' title='Notifications'>\r\n          <IconButton\r\n            aria-controls={anchorEl ? 'menu-list-grow' : undefined}\r\n            aria-haspopup='true'\r\n            onClick={this.handleOpen}\r\n          >\r\n            {notificationIcon}\r\n          </IconButton>\r\n        </Tooltip>\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={this.handleClose}\r\n          onEntered={this.onMenuOpened}\r\n          className='over-auto'\r\n        >\r\n          {notificationMarkup}\r\n        </Menu>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({ user });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      markNotificationReadDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(Notifications));\r\n","import React from \"react\";\r\nimport ToolTip from \"@material-ui/core/Tooltip\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nconst MyButton = ({ children, onClick, tip, btnClassName, tipClassName }) => {\r\n  return (\r\n    <ToolTip title={tip} className={tipClassName} placement='bottom'>\r\n      <IconButton onClick={onClick} className={btnClassName}>\r\n        {children}\r\n      </IconButton>\r\n    </ToolTip>\r\n  );\r\n};\r\n\r\nexport default MyButton;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { isMobile } from 'react-device-detect';\r\nimport { getAllUsersDispatch } from '../Actions/dataActions';\r\nimport MyButton from './MyButton';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {\r\n  withStyles,\r\n  DialogContent,\r\n  Dialog,\r\n  DialogTitle,\r\n  Avatar,\r\n  TextField,\r\n  Typography,\r\n  Divider,\r\n} from '@material-ui/core';\r\n\r\nconst styles = {\r\n  closeButton: {\r\n    position: 'absolute',\r\n    left: isMobile ? ' 87%' : '90%',\r\n    top: '1%',\r\n  },\r\n  search: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  searchIcon: {\r\n    marginRight: 10,\r\n  },\r\n  avatar: {\r\n    width: 60,\r\n    height: 60,\r\n    marginRight: 15,\r\n    cursor: 'pointer',\r\n  },\r\n  username: {\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nlet filteredUsers = [];\r\n\r\nclass UserSearch extends Component {\r\n  state = {\r\n    dialog: false,\r\n    searchField: '',\r\n  };\r\n\r\n  openDialog = () => {\r\n    const { getAllUsersDispatch } = this.props;\r\n\r\n    this.setState({ dialog: true });\r\n    getAllUsersDispatch();\r\n  };\r\n\r\n  closeDialog = () => {\r\n    this.setState({ dialog: false, searchField: '' });\r\n    filteredUsers = [];\r\n  };\r\n\r\n  handleSearch = (event) => {\r\n    const { searchField } = this.state;\r\n    const {\r\n      data: { users },\r\n    } = this.props;\r\n    this.setState({ searchField: event.target.value });\r\n    filteredUsers = users.filter((user) =>\r\n      user.username.toLowerCase().startsWith(searchField.toLowerCase())\r\n    );\r\n  };\r\n\r\n  goToProfile = (username) => {\r\n    const { history } = this.props;\r\n    window.history.pushState(null, null, `/user/${username}`);\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { dialog, searchField } = this.state;\r\n    return (\r\n      <>\r\n        <MyButton tip='Search Users' onClick={this.openDialog}>\r\n          <SearchIcon color='secondary' />\r\n        </MyButton>\r\n        <Dialog\r\n          open={dialog}\r\n          onClose={this.closeDialog}\r\n          fullScreen={isMobile ? true : false}\r\n          fullWidth={isMobile ? false : true}\r\n          maxWidth='sm'\r\n        >\r\n          <DialogTitle>Seacrh Users</DialogTitle>\r\n          <MyButton\r\n            tip='close'\r\n            onClick={this.closeDialog}\r\n            tipClassName={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </MyButton>\r\n          <DialogContent>\r\n            <div>\r\n              <div className={classes.search}>\r\n                <SearchIcon className={classes.searchIcon} />\r\n                <TextField\r\n                  value={searchField}\r\n                  onChange={this.handleSearch}\r\n                  placeholder='Type Username'\r\n                  fullWidth\r\n                />\r\n              </div>\r\n              <div className='over-auto'>\r\n                {filteredUsers.length === 0 ? (\r\n                  <div className='p-50 text-center'>No Users Found</div>\r\n                ) : (\r\n                  filteredUsers.map((user, index) => {\r\n                    return (\r\n                      <div key={user.userId}>\r\n                        <div className='flex-row align-items-center p-10 m-10'>\r\n                          <Avatar\r\n                            src={user.userImage}\r\n                            className={classes.avatar}\r\n                          />\r\n                          <Link\r\n                            to={`/user/${user.username}`}\r\n                            className={classes.username}\r\n                          >\r\n                            <Typography color='secondary' variant='h5'>\r\n                              {user.username}\r\n                            </Typography>\r\n                          </Link>\r\n                          <Divider />\r\n                        </div>\r\n                        {index !== filteredUsers.length - 1 && <hr />}\r\n                      </div>\r\n                    );\r\n                  })\r\n                )}\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ data }) => ({ data });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      getAllUsersDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(withRouter(UserSearch)));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { postSparkDispatch } from \"../Actions/dataActions\";\r\nimport MyButton from \"./MyButton\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nconst transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass PostSpark extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      body: \"\",\r\n      dialog: false,\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.ui.errors) {\r\n      this.setState({ errors: nextProps.ui.errors });\r\n    }\r\n    if (!nextProps.ui.errors && !nextProps.ui.loading) {\r\n      this.setState({ body: \"\" });\r\n      this.handleClose();\r\n    }\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ dialog: true });\r\n  };\r\n\r\n  handleClose = () => {\r\n    const { errors } = this.state;\r\n    this.setState({ dialog: false });\r\n\r\n    if (errors.body) {\r\n      this.setState({ body: \"\", errors: {} });\r\n    }\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ body: event.target.value });\r\n  };\r\n\r\n  handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const { body, errors } = this.state;\r\n    const { postSparkDispatch } = this.props;\r\n\r\n    await postSparkDispatch(body);\r\n\r\n    if (!body && errors.body) {\r\n      this.handleClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { errors, dialog, body } = this.state;\r\n    return (\r\n      <>\r\n        <MyButton tip='add spark' onClick={() => this.handleOpen()}>\r\n          <AddIcon color='secondary' />\r\n        </MyButton>\r\n        <Dialog\r\n          open={dialog}\r\n          onClose={() => this.handleClose()}\r\n          TransitionComponent={transition}\r\n          fullWidth\r\n          maxWidth='sm'\r\n        >\r\n          <DialogTitle>Post a new Spark</DialogTitle>\r\n          <DialogContent>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <TextField\r\n                name='body'\r\n                type='text'\r\n                variant='outlined'\r\n                margin='normal'\r\n                rows='3'\r\n                fullWidth\r\n                placeholder='Write something in 200 characters'\r\n                error={errors.body ? true : false}\r\n                helperText={errors.body}\r\n                onChange={this.handleChange}\r\n                value={body}\r\n              />\r\n              <DialogActions>\r\n                <Button type='submit' variant='contained' color='secondary'>\r\n                  Post\r\n                </Button>\r\n                <Button\r\n                  variant='outlined'\r\n                  color='primary'\r\n                  onClick={() => this.handleClose()}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </DialogActions>\r\n            </form>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ ui }) => ({ ui });\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      postSparkDispatch\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostSpark);\r\n","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport Notifications from './Notifications';\r\nimport UserSearch from './UserSearch';\r\nimport PostSpark from './PostSpark';\r\nimport {\r\n  AppBar,\r\n  Toolbar,\r\n  SwipeableDrawer,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  withStyles,\r\n  IconButton\r\n} from '@material-ui/core';\r\nimport { logoutUserDispatch } from '../Actions/userActions';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport LogoutIcon from '@material-ui/icons/ExitToApp';\r\nimport ProfileIcon from '@material-ui/icons/Person';\r\nimport SignUpIcon from '@material-ui/icons/VpnKey';\r\nimport LoginIcon from '@material-ui/icons/Lock';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChatRoomIcon from '@material-ui/icons/Forum';\r\nimport { isMobile } from 'react-device-detect';\r\n\r\nconst styles = {\r\n  list: {\r\n    width: !isMobile ? 350 : 280,\r\n    marginTop: 5,\r\n  },\r\n  fullList: {\r\n    width: 'auto',\r\n  },\r\n  closeIcon: {\r\n    cursor: 'pointer',\r\n    width: 60,\r\n    marginTop: 10,\r\n  },\r\n  itemText: {\r\n    color: '#151515',\r\n  },\r\n};\r\n\r\nclass MobileNav extends Component {\r\n  state = {\r\n    left: false,\r\n    open: false,\r\n  };\r\n  toggleDrawer = () => {\r\n    const { open } = this.state;\r\n    this.setState({ open: !open ? true : false });\r\n  };\r\n\r\n  logoutUser = async () => {\r\n    const { logoutUserDispatch, history } = this.props;\r\n    await logoutUserDispatch();\r\n    history.push('/login');\r\n  };\r\n\r\n  goToProfile = () => {\r\n    const {\r\n      history,\r\n      user: {\r\n        credentials: { username },\r\n      },\r\n    } = this.props;\r\n    history.push(`/user/${username}`);\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      user: { authenticated },\r\n    } = this.props;\r\n    const list = (\r\n      <>\r\n        <ListItem onClick={this.toggleDrawer} className={classes.closeIcon}>\r\n          <ListItemIcon>\r\n            <CloseIcon color='secondary' />\r\n          </ListItemIcon>\r\n        </ListItem>\r\n        <div className={classes.list} onClick={this.toggleDrawer}>\r\n          <List>\r\n            <ListItem component={Link} to='/'>\r\n              <ListItemIcon>\r\n                <HomeIcon color='secondary' />\r\n              </ListItemIcon>\r\n              <ListItemText className={classes.itemText}>Home</ListItemText>\r\n            </ListItem>\r\n            {authenticated ? (\r\n              <>\r\n                <ListItem component={Link} onClick={this.goToProfile}>\r\n                  <ListItemIcon>\r\n                    <ProfileIcon color='secondary' />\r\n                  </ListItemIcon>\r\n                  <ListItemText className={classes.itemText}>\r\n                    Profile\r\n                  </ListItemText>\r\n                </ListItem>\r\n                <ListItem component={Link} to='/users'>\r\n                  <ListItemIcon>\r\n                    <PeopleAltIcon color='secondary' />\r\n                  </ListItemIcon>\r\n                  <ListItemText className={classes.itemText}>\r\n                    Following\r\n                  </ListItemText>\r\n                </ListItem>\r\n                <ListItem component={Link} to='/chats'>\r\n                  <ListItemIcon>\r\n                    <ChatRoomIcon color='secondary' />\r\n                  </ListItemIcon>\r\n                  <ListItemText className={classes.itemText}>\r\n                    Chat Room\r\n                  </ListItemText>\r\n                </ListItem>\r\n                <ListItem component={Link} onClick={this.logoutUser}>\r\n                  <ListItemIcon>\r\n                    <LogoutIcon color='secondary' />\r\n                  </ListItemIcon>\r\n                  <ListItemText className={classes.itemText}>\r\n                    Logout\r\n                  </ListItemText>\r\n                </ListItem>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <ListItem component={Link} to='/login'>\r\n                  <ListItemIcon>\r\n                    <LoginIcon color='secondary' />\r\n                  </ListItemIcon>\r\n                  <ListItemText className={classes.itemText}>\r\n                    Login\r\n                  </ListItemText>\r\n                </ListItem>\r\n                <ListItem component={Link} to='/signup'>\r\n                  <ListItemIcon>\r\n                    <SignUpIcon color='secondary' />\r\n                  </ListItemIcon>\r\n                  <ListItemText className={classes.itemText}>\r\n                    Signup\r\n                  </ListItemText>\r\n                </ListItem>\r\n              </>\r\n            )}\r\n          </List>\r\n        </div>\r\n      </>\r\n    );\r\n    return (\r\n      <>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <IconButton onClick={this.toggleDrawer}>\r\n              <MenuIcon color='secondary' />\r\n            </IconButton>\r\n            <SwipeableDrawer\r\n              open={this.state.open}\r\n              onOpen={this.toggleDrawer}\r\n              onClose={this.toggleDrawer}\r\n              style={{ color: '#151515' }}\r\n            >\r\n              {list}\r\n            </SwipeableDrawer>\r\n            <div className='ml-auto'>\r\n              <UserSearch />\r\n              {authenticated && (\r\n                <>\r\n                  <PostSpark />\r\n                  <Notifications />\r\n                </>\r\n              )}\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({ user });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      logoutUserDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(withStyles(styles)(MobileNav)));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { Link } from \"react-router-dom/\";\r\nimport MyButton from \"./MyButton\";\r\nimport { likeSparkDispatch, unlikeSparkDispatch } from \"../Actions/dataActions\";\r\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\r\n\r\nclass LikeButton extends Component {\r\n  likedSpark = () => {\r\n    const { user, sparkId } = this.props;\r\n\r\n    if (user.likes && user.likes.find(like => like.sparkId === sparkId))\r\n      return true;\r\n    else return false;\r\n  };\r\n\r\n  likeSpark = () => {\r\n    const { likeSparkDispatch, sparkId } = this.props;\r\n    likeSparkDispatch(sparkId);\r\n  };\r\n\r\n  unlikeSpark = () => {\r\n    const { unlikeSparkDispatch, sparkId } = this.props;\r\n    unlikeSparkDispatch(sparkId);\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.props;\r\n\r\n    return !user.authenticated ? (\r\n      <Link to='/login'>\r\n        <MyButton tip='like'>\r\n          <FavoriteBorder color='secondary' />\r\n        </MyButton>\r\n      </Link>\r\n    ) : this.likedSpark() ? (\r\n      <MyButton tip='unlike' onClick={() => this.unlikeSpark()}>\r\n        <FavoriteIcon color='secondary' />\r\n      </MyButton>\r\n    ) : (\r\n      <MyButton tip='like' onClick={() => this.likeSpark()}>\r\n        <FavoriteBorder color='secondary' />\r\n      </MyButton>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({ user });\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      likeSparkDispatch,\r\n      unlikeSparkDispatch\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(LikeButton);\r\n","import React, { Component, Fragment } from \"react\";\r\nimport { isMobile } from \"react-device-detect\";\r\nimport { Link } from \"react-router-dom\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { Grid, Typography, Avatar } from \"@material-ui/core\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst styles = {\r\n  container: {\r\n    marginTop: 20\r\n  },\r\n  commentImage: {\r\n    maxWidth: \"100%\",\r\n    height: 100,\r\n    objectFit: \"cover\",\r\n    borderRadius: \"50%\"\r\n  },\r\n  commentData: {\r\n    marginLeft: 20\r\n  },\r\n\r\n  visibleSeparator: {\r\n    width: \"100%\",\r\n    borderBottom: \"1px solid rgba(0,0,0,0.1)\",\r\n    marginBottom: 20\r\n  },\r\n  invisibleSeparator: {\r\n    border: \"none\",\r\n    margin: 4\r\n  },\r\n  image: {\r\n    width: isMobile ? 70 : 80,\r\n    height: isMobile ? 70 : 80\r\n  }\r\n};\r\n\r\nclass Comments extends Component {\r\n  render() {\r\n    const { classes, comments } = this.props;\r\n    return (\r\n      <Grid container className={classes.container}>\r\n        {comments.map((comment, index) => {\r\n          const { body, createdAt, userImage, username } = comment;\r\n          return (\r\n            <Fragment key={createdAt} className='m-t-40'>\r\n              <Grid item sm={12}>\r\n                <Grid container>\r\n                  <Grid item sm={2}>\r\n                    <Avatar\r\n                      className={classes.image}\r\n                      alt='profile image'\r\n                      src={userImage}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item sm={9}>\r\n                    <div className={classes.commentData}>\r\n                      <Typography\r\n                        variant='h5'\r\n                        component={Link}\r\n                        to={`user/${username}`}\r\n                        color='secondary'\r\n                      >\r\n                        {username}\r\n                      </Typography>\r\n                      <Typography variant='body1'>{body}</Typography>\r\n                      <hr className={classes.invisibleSeparator} />\r\n                      <Typography variant='body2'>\r\n                        {dayjs(createdAt).format(\"h:mm a, MMMM DD YYYY\")}\r\n                      </Typography>\r\n                    </div>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n              {index !== comments.length - 1 && (\r\n                <hr className={classes.visibleSeparator} />\r\n              )}\r\n            </Fragment>\r\n          );\r\n        })}\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(Comments);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { submitCommentDispatch } from \"../Actions/dataActions\";\r\nimport { Grid, TextField, Button } from \"@material-ui/core\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nexport class CommentForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      comment: \"\",\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.ui.errors) {\r\n      this.setState({ errors: nextProps.ui.errors });\r\n    }\r\n\r\n    if (!nextProps.ui.errors && !nextProps.ui.loading) {\r\n      this.setState({ comment: \"\" });\r\n    }\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    const { submitCommentDispatch, sparkId } = this.props;\r\n    const { comment } = this.state;\r\n\r\n    event.preventDefault();\r\n    submitCommentDispatch(sparkId, comment);\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ comment: event.target.value });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      user: { authenticated }\r\n    } = this.props;\r\n    const { comment, errors } = this.state;\r\n    return authenticated ? (\r\n      <form onSubmit={this.handleSubmit} className='comment-form pb-5'>\r\n          <Grid container alignItems='center'>\r\n        <Grid item xs={isMobile ? 12 : 9}>\r\n          <TextField\r\n            name='comment'\r\n            variant='outlined'\r\n            type='text'\r\n            label='Write a comment'\r\n            error={errors.comment ? true : false}\r\n            helperText={errors.comment}\r\n            value={comment}\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n          />\r\n        </Grid>\r\n        <Grid item xs={isMobile ? 12 : 3} style={{textAlign: 'center'}} className='pt-3'>\r\n          <Button variant='contained' color='secondary' type='submit'>\r\n            Submit\r\n          </Button>\r\n        </Grid>\r\n        </Grid>\r\n      </form>\r\n    ) : null;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, ui }) => ({ user, ui });\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      submitCommentDispatch\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { openSparkDispatch } from '../Actions/dataActions';\r\nimport { Link } from 'react-router-dom';\r\nimport { isMobile } from 'react-device-detect';\r\nimport LikeButton from './LikeButton';\r\nimport Comments from './Comments';\r\nimport CommentForm from './CommentForm';\r\nimport MyButton from './MyButton';\r\nimport dayjs from 'dayjs';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ExpandIcon from '@material-ui/icons/UnfoldMore';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport { CircularProgress, Grid, Typography, Avatar } from '@material-ui/core';\r\n\r\nconst styles = {\r\n  invisibleSeparator: {\r\n    border: 'none',\r\n    margin: 4,\r\n  },\r\n  profileImage: {\r\n    maxWidth: 130,\r\n    height: 130,\r\n    borderRadius: '50%',\r\n    objectFit: 'cover',\r\n  },\r\n  dialogContent: {\r\n    padding: 20,\r\n  },\r\n  closeButton: {\r\n    position: 'absolute',\r\n    left: '90%',\r\n  },\r\n  spinnerContain: {\r\n    textAlign: 'center',\r\n    marginTop: isMobile ? '80%' : 50,\r\n    marginBottom: isMobile ? '50%' : 50,\r\n  },\r\n  likeBtn: {\r\n    position: 'relative',\r\n    right: '5%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  image: {\r\n    width: 120,\r\n    height: 120,\r\n  },\r\n};\r\n\r\nclass SparkDialog extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dialog: false,\r\n      newPath: '',\r\n      oldPath: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.openDialog) {\r\n      this.handleOpen();\r\n    }\r\n  }\r\n\r\n  handleOpen = () => {\r\n    const { openSparkDispatch, sparkId, username } = this.props;\r\n\r\n    let oldPath = window.location.pathname;\r\n    const newPath = `/user/${username}/spark/${sparkId}`;\r\n    window.history.pushState(null, null, newPath);\r\n\r\n    if (oldPath === newPath) oldPath = `/user/${username}`;\r\n\r\n    this.setState({ dialog: true, oldPath, newPath });\r\n    openSparkDispatch(sparkId);\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ dialog: false });\r\n    window.history.pushState(null, null, this.state.oldPath);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      data,\r\n      ui: { loading },\r\n    } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <MyButton\r\n          tip='open Spark'\r\n          onClick={this.handleOpen}\r\n          tipClassName={classes.expandIcon}\r\n        >\r\n          <ExpandIcon color='secondary' />\r\n        </MyButton>\r\n        <Dialog\r\n          open={this.state.dialog}\r\n          onClose={this.handleClose}\r\n          fullScreen={isMobile ? true : false}\r\n          fullWidth={isMobile ? false : true}\r\n          maxWidth='sm'\r\n        >\r\n          <MyButton\r\n            tip='close'\r\n            onClick={this.handleClose}\r\n            tipClassName={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </MyButton>\r\n          <DialogContent className={classes.dialogContent}>\r\n            {loading ? (\r\n              <div className={classes.spinnerContain}>\r\n                <CircularProgress color='secondary' />\r\n              </div>\r\n            ) : data.spark ? (\r\n              <>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={isMobile ? 6 : 3}>\r\n                    <Avatar\r\n                      className={classes.image}\r\n                      alt='profile image'\r\n                      src={data.spark.userImage}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                    <Typography\r\n                      component={Link}\r\n                      color='secondary'\r\n                      variant='h5'\r\n                      to={`user/${data.spark.username}`}\r\n                    >\r\n                      @{data.spark.username}\r\n                    </Typography>\r\n                    <hr className={classes.invisibleSeparator} />\r\n                    <Typography variant='body1'>{data.spark.body}</Typography>\r\n                    <hr className={classes.invisibleSeparator} />\r\n                    <Typography variant='body2' color='textSecondary'>\r\n                      {dayjs(data.spark.createdAt).format(\r\n                        'h:mm a, MMMM DD YYYY'\r\n                      )}\r\n                    </Typography>\r\n                    <div className={classes.likeBtn}>\r\n                      <LikeButton sparkId={data.spark.sparkId} />\r\n                      <span className='pb-1'>{data.spark.likeCount}</span>\r\n                    </div>\r\n                  </Grid>\r\n                </Grid>\r\n                <CommentForm sparkId={data.spark.sparkId} />\r\n                <Comments comments={data.spark.comments} />\r\n              </>\r\n            ) : null}\r\n          </DialogContent>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ data, ui }) => ({ data, ui });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      openSparkDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(SparkDialog));\r\n","import React, { Component } from \"react\";\r\nimport MyButton from \"./MyButton\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { deleteSparkDispatch } from \"../Actions/dataActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DeleteIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nconst transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nclass DeleteSpark extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dialog: false\r\n    };\r\n  }\r\n\r\n  handleDialog = () => {\r\n    const { dialog } = this.state;\r\n\r\n    this.setState({ dialog: !dialog ? true : false });\r\n  };\r\n\r\n  deleteSpark = async () => {\r\n    const { sparkId, deleteSparkDispatch } = this.props;\r\n    await deleteSparkDispatch(sparkId);\r\n    this.handleDialog();\r\n  };\r\n\r\n  render() {\r\n    const { sparkId } = this.props;\r\n    return (\r\n      <>\r\n        <MyButton tip='delete spark' onClick={() => this.handleDialog()} btnClassName='delete-icon'>\r\n          <DeleteIcon color='error' />\r\n        </MyButton>\r\n        <Dialog\r\n          fullWidth\r\n          maxWidth='sm'\r\n          TransitionComponent={transition}\r\n          open={this.state.dialog}\r\n          onClose={this.handleDialog}\r\n        >\r\n          <DialogTitle>Are you sure you want to delete this spark?</DialogTitle>\r\n          <DialogActions>\r\n            <Button\r\n              onClick={() => this.deleteSpark(sparkId)}\r\n              variant='contained'\r\n              style={{ backgroundColor: \"#E90C07\", color: \"#fff\" }}\r\n            >\r\n              Delete\r\n            </Button>\r\n            <Button\r\n              onClick={() => this.handleDialog()}\r\n              variant='contained'\r\n              color='secondary'\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      deleteSparkDispatch\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(null, mapDispatchToProps)(DeleteSpark);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport LikeButton from './LikeButton';\r\nimport dayjs from 'dayjs';\r\nimport SparkDialog from './SparkDialog';\r\nimport DeleteSpark from './DeleteSpark';\r\nimport MyButton from './MyButton';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport { Card, CardContent, Typography } from '@material-ui/core';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Link } from 'react-router-dom/';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport { isMobile } from 'react-device-detect';\r\n\r\nconst styles = {\r\n  container: {\r\n    margin: 14,\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n    backgroundColor: '#151515',\r\n    color: '#fff',\r\n    width: !isMobile ? '350px' : 'auto',\r\n    height: '140px',\r\n  },\r\n  image: {\r\n    marginTop: '15px',\r\n    marginLeft: '10px',\r\n  },\r\n  content: {\r\n    marginLeft: '10px',\r\n    objectFit: 'cover',\r\n  },\r\n};\r\n\r\nclass Spark extends Component {\r\n  textTruncate = (str) => {\r\n    if (str.length <= 20) return str;\r\n    return str.slice(0, 20) + '....';\r\n  };\r\n\r\n  render() {\r\n    dayjs.extend(relativeTime);\r\n    const {\r\n      classes,\r\n      spark: {\r\n        body,\r\n        createdAt,\r\n        username,\r\n        userImage,\r\n        sparkId,\r\n        likeCount,\r\n        commentCount,\r\n        userProfile,\r\n      },\r\n      user,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div\r\n        className={classes.container}\r\n        style={{ width: isMobile ? '90%' : ''}}\r\n      >\r\n        <Grid container alignItems='center'>\r\n          <Grid item xs={12}>\r\n            <Card className={classes.card}>\r\n              <Avatar\r\n                className={classes.image}\r\n                alt='profile image'\r\n                src={userImage}\r\n              />\r\n              <CardContent className={classes.content}>\r\n                <Typography\r\n                  variant='h5'\r\n                  color='secondary'\r\n                  component={Link}\r\n                  to={`/user/${username}`}\r\n                >\r\n                  {username}\r\n                </Typography>\r\n                <Typography variant='body1'>\r\n                  {this.textTruncate(body)}\r\n                </Typography>\r\n                <Typography variant='body2'>\r\n                  {dayjs(createdAt).fromNow()}\r\n                </Typography>\r\n                <LikeButton sparkId={sparkId} />\r\n                <span>{likeCount}</span>\r\n                <MyButton tip='comments'>\r\n                  <ChatIcon color='secondary' />\r\n                </MyButton>\r\n                <span>{commentCount}</span>\r\n                <SparkDialog\r\n                  username={username}\r\n                  sparkId={sparkId}\r\n                  openDialog={this.props.openDialog}\r\n                />\r\n                {user.authenticated &&\r\n                  user.credentials.username === username && (\r\n                    <DeleteSpark sparkId={sparkId} />\r\n                  )}\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({ user });\r\n\r\nexport default connect(mapStateToProps, null)(withStyles(styles)(Spark));\r\n","import React from \"react\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nconst MyLoader = () => (\r\n  <ContentLoader\r\n    speed={3}\r\n    width={isMobile ? \"auto\" : 350}\r\n    height={100}\r\n    viewBox='0 0 350 100'\r\n    backgroundColor='#CCCCCC'\r\n    foregroundColor='#FCCE07'\r\n  >\r\n    <rect x='66' y='12' rx='0' ry='0' width='340' height='7' />\r\n    <circle cx='38' cy='25' r='18' />\r\n    <rect x='67' y='32' rx='0' ry='0' width='323' height='7' />\r\n    <rect x='66' y='52' rx='0' ry='0' width='299' height='7' />\r\n  </ContentLoader>\r\n);\r\n\r\nexport default MyLoader;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport MobileNav from '../Components/MobileNav';\r\nimport { getSparksDispatch } from '../Actions/dataActions';\r\nimport { isMobile } from 'react-device-detect';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Spark from '../Components/Spark';\r\nimport SparkLoader from '../Loaders/SparkLoader';\r\n\r\nclass home extends Component {\r\n  componentDidMount() {\r\n    this.props.getSparksDispatch();\r\n  }\r\n\r\n  render() {\r\n    const { sparks, loading } = this.props.data;\r\n    const recentSparks = !loading\r\n      ? sparks.map((spark) => {\r\n          return <Spark key={spark.sparkId} spark={spark} />;\r\n        })\r\n      : Array.from({ length: 18 }).map((item, index) => {\r\n          return <SparkLoader key={index} />;\r\n        });\r\n    return (\r\n      <div className='container'>\r\n        <MobileNav />\r\n        <Grid container>\r\n          {isMobile ? (\r\n            <>\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                // style={{ marginLeft: \"10px\" }}\r\n              >\r\n                {recentSparks}\r\n              </Grid>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <div className='spark-container'>{recentSparks}</div>\r\n              </Grid>\r\n            </>\r\n          )}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ data }) => ({ data });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      getSparksDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(home);\r\n","import React from 'react';\r\nimport { isMobile } from 'react-device-detect';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport loginImg from '../assets/login2.png';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { loginUserDispatch } from '../Actions/userActions';\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      loading: false,\r\n      errors: {},\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.ui.errors) {\r\n      this.setState({ errors: nextProps.ui.errors });\r\n    }\r\n  }\r\n\r\n  handleInput = (event) => {\r\n    event.target.name === 'email'\r\n      ? this.setState({ email: event.target.value })\r\n      : this.setState({ password: event.target.value });\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    const { email, password } = this.state;\r\n    const { loginUserDispatch, history } = this.props;\r\n\r\n    event.preventDefault();\r\n    this.setState({ loading: true });\r\n\r\n    const userData = {\r\n      email: email,\r\n      password: password,\r\n    };\r\n\r\n    await loginUserDispatch(userData, history);\r\n\r\n    this.setState({ loading: false });\r\n  };\r\n\r\n  render() {\r\n    const { email, password, loading, errors } = this.state;\r\n    return (\r\n      <Grid\r\n        container\r\n        className='form-contain'\r\n        style={\r\n          !isMobile\r\n            ? { backgroundImage: `url(${loginImg})`, padding: '50px' }\r\n            : { backgroundImage: '' }\r\n        }\r\n      >\r\n        <Grid item xs={12} sm={8} md={5} elevation={6} square>\r\n          <div className='form'>\r\n            <Typography variant='h5'>Welcome to Social Spark</Typography>\r\n\r\n            <Avatar>\r\n              <LockIcon color='primary' />\r\n            </Avatar>\r\n            <Typography component='h1' variant='h5'>\r\n              Login\r\n            </Typography>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <TextField\r\n                variant='outlined'\r\n                margin='normal'\r\n                onChange={this.handleInput}\r\n                value={email}\r\n                className='text-feild'\r\n                helperText={errors.email}\r\n                error={errors.email ? true : false}\r\n                fullWidth\r\n                id='email'\r\n                label='Email'\r\n                name='email'\r\n              />\r\n              <TextField\r\n                variant='outlined'\r\n                onChange={this.handleInput}\r\n                value={password}\r\n                helperText={errors.password}\r\n                error={errors.password ? true : false}\r\n                margin='normal'\r\n                fullWidth\r\n                name='password'\r\n                label='Password'\r\n                type='password'\r\n                id='password'\r\n              />\r\n              {errors.general && (\r\n                <Typography className='form-error m-t-10 m-b-10'>\r\n                  {errors.general}\r\n                </Typography>\r\n              )}\r\n              <Button\r\n                type='submit'\r\n                fullWidth\r\n                variant='contained'\r\n                margin='normal'\r\n                color='primary'\r\n                disabled={loading}\r\n              >\r\n                Login\r\n              </Button>\r\n              {loading && (\r\n                <LinearProgress\r\n                  className='m-t-10'\r\n                  variant='query'\r\n                  color='primary'\r\n                />\r\n              )}\r\n            </form>\r\n            <Link className='mt-4 mr-auto' to='/signup'>\r\n              {\"Don't have an account? Sign Up\"}\r\n            </Link>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n  ui: state.ui,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      loginUserDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import React from 'react';\r\nimport { isMobile } from 'react-device-detect';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SignUpIcon from '@material-ui/icons/VpnKey';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport signupImg from '../assets/signup.png';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport { signinUserDispatch } from '../Actions/userActions';\r\n\r\nclass Signup extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      username: '',\r\n      loading: false,\r\n      errors: {},\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.ui.errors) {\r\n      this.setState({ errors: nextProps.ui.errors });\r\n    }\r\n  }\r\n\r\n  handleInput = (event) => {\r\n    event.target.name === 'email'\r\n      ? this.setState({ email: event.target.value })\r\n      : event.target.name === 'password'\r\n      ? this.setState({ password: event.target.value })\r\n      : event.target.name === 'confirmPassword'\r\n      ? this.setState({ confirmPassword: event.target.value })\r\n      : this.setState({ username: event.target.value });\r\n  };\r\n\r\n  handleSubmit = async (event) => {\r\n    const { email, password, confirmPassword, username } = this.state;\r\n    const { signinUserDispatch, history } = this.props;\r\n    event.preventDefault();\r\n    this.setState({ loading: true });\r\n    const newUser = {\r\n      email: email,\r\n      password: password,\r\n      confirmPassword: confirmPassword,\r\n      username: username,\r\n    };\r\n    await signinUserDispatch(newUser, history);\r\n    this.setState({ loading: false });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n      username,\r\n      loading,\r\n      errors,\r\n    } = this.state;\r\n    return (\r\n      <Grid\r\n        container\r\n        className='form-contain'\r\n        style={\r\n          !isMobile\r\n            ? { backgroundImage: `url(${signupImg})`, padding: '50px' }\r\n            : { backgroundImage: '' }\r\n        }\r\n      >\r\n        <Grid item xs={12} sm={8} md={5} elevation={6} square>\r\n          <div className='form'>\r\n            <Typography variant='h5'>Welcome to Social Spark</Typography>\r\n\r\n            <Avatar>\r\n              <SignUpIcon color='primary' />\r\n            </Avatar>\r\n            <Typography component='h1' variant='h5'>\r\n              Sign in\r\n            </Typography>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <TextField\r\n                variant='outlined'\r\n                margin='normal'\r\n                onChange={this.handleInput}\r\n                value={email}\r\n                helperText={errors.email}\r\n                error={errors.email ? true : false}\r\n                fullWidth\r\n                id='email'\r\n                label='Email'\r\n                name='email'\r\n              />\r\n              <TextField\r\n                variant='outlined'\r\n                onChange={this.handleInput}\r\n                value={password}\r\n                helperText={errors.password}\r\n                error={errors.password ? true : false}\r\n                margin='normal'\r\n                fullWidth\r\n                name='password'\r\n                label='Password'\r\n                type='password'\r\n                id='password'\r\n              />\r\n              <TextField\r\n                variant='outlined'\r\n                margin='normal'\r\n                onChange={this.handleInput}\r\n                value={confirmPassword}\r\n                helperText={errors.confirmPassword}\r\n                error={errors.confirmPassword ? true : false}\r\n                fullWidth\r\n                id='confirmPassword'\r\n                type='password'\r\n                label='Confirm Password'\r\n                name='confirmPassword'\r\n              />\r\n              <TextField\r\n                variant='outlined'\r\n                margin='normal'\r\n                onChange={this.handleInput}\r\n                value={username}\r\n                helperText={errors.username}\r\n                error={errors.username ? true : false}\r\n                fullWidth\r\n                id='username'\r\n                label='Username'\r\n                name='username'\r\n              />\r\n              {errors.general && (\r\n                <Typography variant='body2' className='form-error m-t-10'>\r\n                  {errors.general}\r\n                </Typography>\r\n              )}\r\n              <Button\r\n                type='submit'\r\n                fullWidth\r\n                variant='contained'\r\n                color='primary'\r\n                disabled={loading}\r\n              >\r\n                Log In\r\n              </Button>\r\n              {loading && (\r\n                <LinearProgress\r\n                  className='m-t-10'\r\n                  variant='query'\r\n                  color='primary'\r\n                />\r\n              )}\r\n            </form>\r\n              <Link className='mt-4 mr-auto' to='/login'>\r\n                {'Have an account? Log In'}\r\n              </Link>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.user,\r\n  ui: state.ui,\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      signinUserDispatch,\r\n    },\r\n    dispatch\r\n  );\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Signup);\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';  \r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n  measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,\r\n};\r\n\r\nfirebase.initializeApp(config)\r\n\r\nexport const db = firebase.firestore() ;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { deleteMessageDispatch } from '../Actions/dataActions';\r\nimport {\r\n  Menu,\r\n  MenuItem,\r\n  Typography,\r\n  IconButton,\r\n  withStyles,\r\n} from '@material-ui/core';\r\nimport OptionIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst styles = {\r\n  icon: {\r\n    padding: 0,\r\n  },\r\n};\r\n\r\nclass Options extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      anchorEl: null,\r\n    };\r\n  }\r\n\r\n  handleOpen = (event) => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  deleteMessage = async (id) => {\r\n    const { deleteMessageDispatch } = this.props;\r\n    await deleteMessageDispatch(id);\r\n    this.handleClose();\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl } = this.state;\r\n    const { classes, messageId } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <IconButton\r\n          aria-controls={anchorEl ? 'menu-list-grow' : undefined}\r\n          aria-haspopup='true'\r\n          onClick={this.handleOpen}\r\n          className={classes.icon}\r\n        >\r\n          <OptionIcon fontSize='small' color='secondary' />\r\n        </IconButton>\r\n        <Menu\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={this.handleClose}\r\n          onEntered={this.onMenuOpened}\r\n          className='over-auto'\r\n        >\r\n          <MenuItem>\r\n            <div onClick={() => this.deleteMessage(messageId)}>\r\n              <Typography variant='body1'>Delete</Typography>\r\n            </div>\r\n          </MenuItem>\r\n        </Menu>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      deleteMessageDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(null, mapDispatchToProps)(withStyles(styles)(Options));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { db } from '../Utils/firebaseService';\r\nimport { bindActionCreators } from 'redux';\r\nimport dayjs from 'dayjs';\r\nimport { isMobile } from 'react-device-detect';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport Options from './Options';\r\nimport {\r\n  getAllMessagesDispatch,\r\n  postNewMessageDispatch,\r\n} from '../Actions/dataActions';\r\nimport {\r\n  withStyles,\r\n  TextField,\r\n  IconButton,\r\n  Avatar,\r\n  Typography,\r\n  CircularProgress,\r\n} from '@material-ui/core';\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\nconst styles = {\r\n  chatLeft: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: 30,\r\n    alignItems: 'flex-start',\r\n  },\r\n  chatRight: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: 30,\r\n    alignItems: 'flex-end',\r\n  },\r\n  avatar: {\r\n    width: 20,\r\n    height: 20,\r\n    marginLeft: 5,\r\n  },\r\n  createdAt: {\r\n    fontSize: 10,\r\n    color: 'grey',\r\n  },\r\n  spinner: {\r\n    textAlign: 'center',\r\n    marginTop: isMobile ? '80%' : '20%',\r\n    marginBottom: isMobile ? '50%' : 50,\r\n  },\r\n};\r\n\r\nclass ChatRoom extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      loading: false,\r\n      input: '',\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getAllChats();\r\n    this.listenToNewMessages();\r\n  }\r\n\r\n  listenToNewMessages = () => {\r\n    db.collection('messages').onSnapshot(() => {\r\n      this.getUpdatedMessages();\r\n    });\r\n  };\r\n\r\n  getAllChats = async () => {\r\n    this.setState({ loading: true });\r\n    await this.props.getAllMessagesDispatch();\r\n    this.setState({ loading: false });\r\n    this.scrollToBottom();\r\n  };\r\n\r\n  getUpdatedMessages = async () => {\r\n    const { getAllMessagesDispatch } = this.props;\r\n    await getAllMessagesDispatch();\r\n    this.scrollToBottom();\r\n  };\r\n\r\n  scrollToBottom = () => {\r\n    this.el.scrollIntoView(false, { behavior: 'smooth' });\r\n  };\r\n\r\n  handleInput = (event) => {\r\n    this.setState({ input: event.target.value });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    const { input } = this.state;\r\n    const { postNewMessageDispatch } = this.props;\r\n    e.preventDefault();\r\n\r\n    this.setState({ input: '' });\r\n    await postNewMessageDispatch(input);\r\n    this.listenToNewMessages();\r\n    this.scrollToBottom();\r\n  };\r\n\r\n  render() {\r\n    dayjs.extend(relativeTime);\r\n    const { input, loading } = this.state;\r\n\r\n    const {\r\n      user: {\r\n        credentials: { username },\r\n      },\r\n      data,\r\n      classes,\r\n    } = this.props;\r\n    return (\r\n      <>\r\n        <div\r\n          className='chat-container'\r\n          ref={(el) => {\r\n            this.el = el;\r\n          }}\r\n        >\r\n          {loading ? (\r\n            <div className={classes.spinner}>\r\n              <CircularProgress color='secondary' size={isMobile ? 40 : 50} />\r\n            </div>\r\n          ) : (\r\n            data.messages &&\r\n            data.messages.map((message) => {\r\n              return (\r\n                <div\r\n                  className={\r\n                    username === message.username\r\n                      ? classes.chatRight\r\n                      : classes.chatLeft\r\n                  }\r\n                  key={message.messageId}\r\n                >\r\n                  <div className='flex-row align-items-center'>\r\n                    <Typography variant='body1' color='secondary'>\r\n                      {message.username}\r\n                    </Typography>\r\n                    <Avatar\r\n                      src={message.userImage}\r\n                      className={classes.avatar}\r\n                    />\r\n                    {username === message.username && (\r\n                      <Options messageId={message.messageId} />\r\n                    )}\r\n                  </div>\r\n                  <div className={classes.messageBody}>\r\n                    <Typography variant='body1'>{message.body}</Typography>\r\n                  </div>\r\n                  <Typography variant='body2' className={classes.createdAt}>\r\n                    {dayjs(message.createdAt).fromNow()}\r\n                  </Typography>\r\n                </div>\r\n              );\r\n            })\r\n          )}\r\n        </div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className='chat-form-contain'>\r\n            <div className='flex-row align-items-center chat-form'>\r\n              <TextField\r\n                onChange={this.handleInput}\r\n                value={input}\r\n                placeholder='Type Message'\r\n                fullWidth\r\n              />\r\n              <IconButton type='submit'>\r\n                <SendIcon color='secondary' />\r\n              </IconButton>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ data, user }) => ({ data, user });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      getAllMessagesDispatch,\r\n      postNewMessageDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(ChatRoom));\r\n","import React from \"react\"\r\nimport ContentLoader from \"react-content-loader\" \r\n\r\nconst MyLoader = () => (\r\n  <ContentLoader \r\n    speed={3}\r\n    width={350}\r\n    height={475}\r\n    viewBox=\"0 0 350 475\"\r\n    backgroundColor='#CCCCCC'\r\n    foregroundColor='#FCCE07'\r\n  >\r\n    <rect x=\"65\" y=\"312\" rx=\"2\" ry=\"2\" width=\"232\" height=\"17\" /> \r\n    <rect x=\"11\" y=\"79\" rx=\"2\" ry=\"2\" width=\"400\" height=\"212\" /> \r\n    <rect x=\"65\" y=\"337\" rx=\"2\" ry=\"2\" width=\"232\" height=\"17\" /> \r\n    <rect x=\"66\" y=\"364\" rx=\"2\" ry=\"2\" width=\"232\" height=\"17\" /> \r\n    <rect x=\"65\" y=\"389\" rx=\"2\" ry=\"2\" width=\"232\" height=\"17\" />\r\n  </ContentLoader>\r\n)\r\n\r\nexport default MyLoader;\r\n","import React, { Component } from 'react';\r\nimport MyButton from './MyButton';\r\nimport { isMobile } from 'react-device-detect';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = {\r\n  closeButton: {\r\n    position: 'absolute',\r\n    left: isMobile ? ' 87%' : '90%',\r\n    top: '1%',\r\n  },\r\n  username: {\r\n    marginLeft: 15,\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nclass Followers extends Component {\r\n  state = {\r\n    dialog: false,\r\n  };\r\n\r\n  handleDialog = () => {\r\n    const { dialog } = this.state;\r\n\r\n    this.setState({ dialog: !dialog ? true : false });\r\n  };\r\n\r\n  goToUser = (username) => {\r\n    const { history } = this.props;\r\n\r\n    history.push(`/user/${username}`);\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    const { followers, classes } = this.props;\r\n    return (\r\n      <>\r\n        <span\r\n          className='mr-5'\r\n          onClick={this.handleDialog}\r\n          style={{ cursor: 'pointer' }}\r\n        >\r\n          <Typography color='primary' variant='h6'>\r\n            Followers: {followers.length}\r\n          </Typography>\r\n        </span>\r\n        <Dialog\r\n          open={this.state.dialog}\r\n          onClose={this.handleClose}\r\n          fullScreen={isMobile ? true : false}\r\n          fullWidth={isMobile ? false : true}\r\n          maxWidth='sm'\r\n        >\r\n          <DialogTitle>Followers</DialogTitle>\r\n          <MyButton\r\n            tip='close'\r\n            onClick={this.handleDialog}\r\n            tipClassName={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </MyButton>\r\n          <DialogContent>\r\n            {followers.length === 0 ? (\r\n              <div className='text-center p-50'>No users found</div>\r\n            ) : (\r\n              followers.map((follower, index) => {\r\n                return (\r\n                  <div key={follower.username}>\r\n                    <div className='flex-row align-items-center'>\r\n                      <Avatar\r\n                        src={follower.userImage}\r\n                        className={classes.image}\r\n                      />\r\n                      <a onClick={() => this.goToUser(follower.username)}>\r\n                        <Typography\r\n                          color='secondary'\r\n                          variant='h5'\r\n                          className={classes.username}\r\n                        >\r\n                          {follower.username}\r\n                        </Typography>\r\n                      </a>\r\n                    </div>\r\n                    {index !== followers.length - 1 && <hr />}\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n          </DialogContent>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withStyles(styles)(Followers));\r\n","import React, { Component } from 'react';\r\nimport MyButton from './MyButton';\r\nimport { isMobile } from 'react-device-detect';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = {\r\n  closeButton: {\r\n    position: 'absolute',\r\n    left: isMobile ? ' 87%' : '90%',\r\n    top: '1%',\r\n  },\r\n  username: {\r\n    marginLeft: 15,\r\n    cursor: 'pointer',\r\n  },\r\n};\r\n\r\nclass Following extends Component {\r\n  state = {\r\n    dialog: false,\r\n  };\r\n\r\n  handleDialog = () => {\r\n    const { dialog } = this.state;\r\n\r\n    this.setState({ dialog: !dialog ? true : false });\r\n  };\r\n\r\n  goToUser = (username) => {\r\n    const { history } = this.props;\r\n\r\n    history.push(`/user/${username}`);\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    const { following, classes } = this.props;\r\n    return (\r\n      <>\r\n        <span\r\n          className='mr-5 flex-row align-items-center'\r\n          onClick={this.handleDialog}\r\n          style={{ cursor: 'pointer' }}\r\n        >\r\n          <Typography color='primary' variant='h6'>\r\n            Following: {following.length}\r\n          </Typography>\r\n        </span>\r\n        <Dialog\r\n          open={this.state.dialog}\r\n          onClose={this.handleClose}\r\n          fullScreen={isMobile ? true : false}\r\n          fullWidth={isMobile ? false : true}\r\n          maxWidth='sm'\r\n        >\r\n          <DialogTitle>Following</DialogTitle>\r\n          <MyButton\r\n            tip='close'\r\n            onClick={this.handleDialog}\r\n            tipClassName={classes.closeButton}\r\n          >\r\n            <CloseIcon />\r\n          </MyButton>\r\n          <DialogContent>\r\n            {following.length === 0 ? (\r\n              <div className='text-center p-50'>No users found</div>\r\n            ) : (\r\n              following.map((user, index) => {\r\n                return (\r\n                  <div key={user.username}>\r\n                    <div className='flex-row align-items-center'>\r\n                      <Avatar src={user.userImage} className={classes.image} />\r\n                      <a onClick={() => this.goToUser(user.username)}>\r\n                        <Typography\r\n                          color='secondary'\r\n                          variant='h5'\r\n                          className={classes.username}\r\n                        >\r\n                          {user.username}\r\n                        </Typography>\r\n                      </a>\r\n                    </div>\r\n                    {index !== following.length - 1 && <hr />}\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n          </DialogContent>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withStyles(styles)(Following));\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { updateDetailsDispatch } from \"../Actions/userActions\";\r\nimport MyButton from \"./MyButton\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nclass AddDetails extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      bio: \"\",\r\n      website: \"\",\r\n      location: \"\",\r\n      dialog: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {\r\n      user: { credentials }\r\n    } = this.props;\r\n\r\n    this.setState({\r\n      bio: credentials.bio ? credentials.bio : \"\",\r\n      website: credentials.website ? credentials.website : \"\",\r\n      location: credentials.location ? credentials.location : \"\"\r\n    });\r\n  }\r\n\r\n  handleDialog = () => {\r\n    const { dialog } = this.state;\r\n    this.setState({ dialog: !dialog ? true : false });\r\n  };\r\n\r\n  handleChange = event => {\r\n    event.target.name === \"bio\"\r\n      ? this.setState({ bio: event.target.value })\r\n      : event.target.name === \"location\"\r\n      ? this.setState({ location: event.target.value })\r\n      : this.setState({ website: event.target.value });\r\n  };\r\n\r\n  submitDetails = async () => {\r\n    const { bio, location, website } = this.state;\r\n    const { updateDetailsDispatch } = this.props;\r\n\r\n    let details = {\r\n      bio,\r\n      location,\r\n      website\r\n    };\r\n\r\n    await updateDetailsDispatch(details);\r\n    this.props.getuserProfileInfo();\r\n    this.handleDialog();\r\n  };\r\n\r\n  render() {\r\n    const { bio, website, location, dialog } = this.state;\r\n    return (\r\n      <>\r\n        <MyButton tip='Edit/Add Details' onClick={this.handleDialog}>\r\n          <EditIcon color='primary' />\r\n        </MyButton>\r\n        <Dialog\r\n          open={dialog}\r\n          onClose={this.handleDialog}\r\n          aria-labelledby='form-dialog-title'\r\n        >\r\n          <DialogTitle id='form-dialog-title'>Add Personal Details</DialogTitle>\r\n          <DialogContent>\r\n            <TextField\r\n              autoFocus\r\n              variant='outlined'\r\n              margin='normal'\r\n              id='bio'\r\n              label='bio'\r\n              name='bio'\r\n              type='text'\r\n              fullWidth\r\n              onChange={this.handleChange}\r\n              value={bio}\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              variant='outlined'\r\n              margin='normal'\r\n              id='location'\r\n              name='location'\r\n              label='location'\r\n              type='text'\r\n              fullWidth\r\n              onChange={this.handleChange}\r\n              value={location}\r\n            />\r\n            <TextField\r\n              autoFocus\r\n              variant='outlined'\r\n              margin='normal'\r\n              id='website'\r\n              name='website'\r\n              label='website'\r\n              type='text'\r\n              onChange={this.handleChange}\r\n              fullWidth\r\n              value={website}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button\r\n              variant='contained'\r\n              onClick={this.submitDetails}\r\n              color='secondary'\r\n            >\r\n              Update\r\n            </Button>\r\n            <Button\r\n              variant='outlined'\r\n              onClick={this.handleDialog}\r\n              color='primary'\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({ user });\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n  bindActionCreators(\r\n    {\r\n      updateDetailsDispatch\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddDetails);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { isMobile } from 'react-device-detect';\r\nimport Followers from './Followers';\r\nimport Following from './Following';\r\nimport {\r\n  followUserDispatch,\r\n  unFollowUserDispatch,\r\n} from '../Actions/userActions';\r\nimport { uploadImageDispatch } from '../Actions/userActions';\r\nimport AddDetails from './AddDetails';\r\nimport MyButton from './MyButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport LocationOn from '@material-ui/icons/LocationOn';\r\nimport LinkIcon from '@material-ui/icons/Link';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\nimport CalendarToday from '@material-ui/icons/CalendarToday';\r\nimport dayjs from 'dayjs';\r\n\r\nconst styles = {\r\n  image: {\r\n    width: '100%',\r\n    height: !isMobile ? 240 : 180,\r\n  },\r\n  imageInput: {\r\n    position: 'relative',\r\n    bottom: '25px',\r\n    background: '#fff',\r\n    left: '80%',\r\n  },\r\n  visibleSeparator: {\r\n    width: '90%',\r\n    borderBottom: '0.5px solid rgba(0,0,0,0.1)',\r\n  },\r\n};\r\n\r\nclass StaticProfile extends Component {\r\n  handleImageChange = async (event) => {\r\n    const image = event.target.files[0];\r\n    const formData = new FormData();\r\n    formData.append('image', image, image.name);\r\n    await this.props.uploadImageDispatch(formData);\r\n    this.props.getuserProfileInfo();\r\n  };\r\n\r\n  handleEditPicture = () => {\r\n    const fileInput = document.getElementById('image-input');\r\n    fileInput.click();\r\n  };\r\n\r\n  followUser = async (username) => {\r\n    const { followUserDispatch, getuserProfileInfo } = this.props;\r\n    await followUserDispatch(username);\r\n    getuserProfileInfo();\r\n  };\r\n\r\n  unFollowUser = async (username) => {\r\n    const { unFollowUserDispatch, getuserProfileInfo } = this.props;\r\n    await unFollowUserDispatch(username);\r\n    getuserProfileInfo();\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classes,\r\n      user: { credentials },\r\n      profile,\r\n      getuserProfileInfo,\r\n    } = this.props;\r\n\r\n    const findUser = profile.followers.find(\r\n      (user) => user.username === credentials.username\r\n    );\r\n    return (\r\n      profile.username && (\r\n        <div className='m-l-20 m-r-20'>\r\n          <Paper elevation={8} className='paper profile'>\r\n            <div className=''>\r\n              <Avatar\r\n                src={profile.imageUrl}\r\n                className={classes.image}\r\n                variant='rounded'\r\n              />\r\n              {credentials.username === profile.username && (\r\n                <>\r\n                  <MyButton\r\n                    tip='Change Profile Pic'\r\n                    onClick={this.handleEditPicture}\r\n                    tipClassName={classes.imageInput}\r\n                  >\r\n                    <EditIcon color='primary' />\r\n                  </MyButton>\r\n                  <input\r\n                    type='file'\r\n                    id='image-input'\r\n                    hidden='hidden'\r\n                    onChange={this.handleImageChange}\r\n                  />\r\n                </>\r\n              )}\r\n              {credentials.username !== profile.username && (\r\n                <div className='text-center m-t-20 m-b-10'>\r\n                  {findUser ? (\r\n                    <Button\r\n                      variant='contained'\r\n                      color='secondary'\r\n                      onClick={() => this.unFollowUser(profile.username)}\r\n                    >\r\n                      Unfollow\r\n                    </Button>\r\n                  ) : (\r\n                    <Button\r\n                      variant='contained'\r\n                      color='secondary'\r\n                      onClick={() => this.followUser(profile.username)}\r\n                    >\r\n                      Follow\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              )}\r\n              <div className='flex-row justify-content-center align-items-center'>\r\n                <Followers followers={profile.followers} />\r\n                <Following following={profile.following} />\r\n              </div>\r\n            </div>\r\n            <hr className={classes.visibleSeparator} />\r\n            <div className='flex-column align-items-center p-r-50 p-l-50 p-t-20 p-b-20'>\r\n              <Typography color='secondary' variant='h5'>\r\n                {profile.username}\r\n              </Typography>\r\n              {profile.bio && (\r\n                <Typography className='m-t-10' variant='body2'>\r\n                  {profile.bio}\r\n                </Typography>\r\n              )}\r\n              {profile.location && (\r\n                <div className='flex-row align-items-center m-t-10'>\r\n                  <LocationOn color='primary' />\r\n                  <span className='ml-3'>{profile.location}</span>\r\n                </div>\r\n              )}\r\n              {profile.website && (\r\n                <div className='flex-row align-items-center m-t-10'>\r\n                  <LinkIcon color='primary' />\r\n                  <a\r\n                    className='ml-3'\r\n                    href={profile.website}\r\n                    target='_blank'\r\n                    rel='noopener noreferrer'\r\n                  >\r\n                    {profile.website}\r\n                  </a>\r\n                </div>\r\n              )}\r\n              <div className='flex-row align-items-center m-t-10'>\r\n                <CalendarToday color='primary' />{' '}\r\n                <span className='ml-3'>\r\n                  Joined {dayjs(profile.createdAt).format('DD MMM YYYY')}\r\n                </span>\r\n              </div>\r\n              {credentials.username === profile.username && (\r\n                <div className='ml-auto'>\r\n                  <AddDetails getuserProfileInfo={getuserProfileInfo} />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </Paper>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => ({ user });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      uploadImageDispatch,\r\n      followUserDispatch,\r\n      unFollowUserDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withStyles(styles)(StaticProfile));\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport { getUserDispatch } from '../Actions/userActions';\r\nimport SparkLoader from '../Loaders/SparkLoader';\r\nimport axios from 'axios';\r\nimport { isMobile } from 'react-device-detect';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Spark from './Spark';\r\nimport MobileNav from './MobileNav';\r\nimport ProfileLoader from '../Loaders/ProfileLoader';\r\nimport StaticProfile from './StaticProfile';\r\nimport EmptySparks from '../assets/empty.png';\r\n\r\nexport class User extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      profile: null,\r\n      sparkIdParam: null,\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { username, sparkId } = this.props.match.params;\r\n    if (sparkId)\r\n      this.setState({\r\n        sparkIdParam: sparkId,\r\n      });\r\n\r\n    this.getuserProfileInfo();\r\n    this.props.getUserDispatch(username);\r\n  }\r\n\r\n  getuserProfileInfo = () => {\r\n    const { username } = this.props.match.params;\r\n    this.setState({ profile: null });\r\n    axios\r\n      .get(`/user/${username}`)\r\n      .then((res) => {\r\n        this.setState({ profile: res.data.user });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { sparks, loading } = this.props.data;\r\n    const { sparkIdParam } = this.state;\r\n\r\n    const sparkMarkup = loading ? (\r\n      Array.from({ length: 12 }).map((item, index) => {\r\n        return <SparkLoader key={index} />;\r\n      })\r\n    ) : sparks.length === 0 ? (\r\n      <div className='m-t-20'>\r\n        <p className='text-center'>No Sparks from this user</p>\r\n        {!isMobile ? (\r\n          <img src={EmptySparks} alt='avatar' width='800px' height='500px' />\r\n        ) : (\r\n          <img src={EmptySparks} width='410px' alt='avatar' height='340px' />\r\n        )}\r\n      </div>\r\n    ) : !sparkIdParam ? (\r\n      sparks.map((spark) => (\r\n        <Spark userProfile={true} key={spark.sparkId} spark={spark} />\r\n      ))\r\n    ) : (\r\n      sparks.map((spark) => {\r\n        if (spark.sparkId === sparkIdParam)\r\n          return (\r\n            <Spark\r\n              userProfile={true}\r\n              key={spark.sparkId}\r\n              spark={spark}\r\n              openDialog\r\n            />\r\n          );\r\n        else\r\n          return <Spark userProfile={true} key={spark.sparkId} spark={spark} />;\r\n      })\r\n    );\r\n\r\n    return (\r\n      <div className='container'>\r\n        <MobileNav />\r\n        <Grid container>\r\n          {!isMobile ? (\r\n            <>\r\n              <Grid item xs={3} className='flex-row'>\r\n                {this.state.profile === null ? (\r\n                  <div style={{ marginLeft: '10px' }}>\r\n                    <ProfileLoader />\r\n                  </div>\r\n                ) : (\r\n                  <StaticProfile\r\n                    profile={this.state.profile}\r\n                    getuserProfileInfo={this.getuserProfileInfo}\r\n                  />\r\n                )}\r\n              </Grid>\r\n              <Grid item xs={9} className='flex-row wrap'>\r\n                {sparkMarkup}\r\n              </Grid>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Grid item xs={12} className='flex-row justify-content-center'>\r\n                {this.state.profile === null ? (\r\n                  <ProfileLoader />\r\n                ) : (\r\n                  <StaticProfile\r\n                    profile={this.state.profile}\r\n                    getuserProfileInfo={this.getuserProfileInfo}\r\n                  />\r\n                )}\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                className='flex-row wrap'\r\n                style={{ marginLeft: '10px' }}\r\n              >\r\n                {sparkMarkup}\r\n              </Grid>\r\n            </>\r\n          )}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, data }) => ({ user, data });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      getUserDispatch,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(User));\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport MobileNav from './MobileNav';\r\nimport { getFollowingUserSparks } from '../Actions/dataActions';\r\nimport { isMobile } from 'react-device-detect';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Spark from '../Components/Spark';\r\nimport SparkLoader from '../Loaders/SparkLoader';\r\n\r\nclass FollowingUserSparks extends Component {\r\n  componentDidMount() {\r\n    this.props.getFollowingUserSparks();\r\n  }\r\n\r\n  render() {\r\n    const { sparks, loading } = this.props.data;\r\n    const recentSparks = !loading\r\n      ? sparks.map((spark) => {\r\n          return <Spark key={spark.sparkId} spark={spark} />;\r\n        })\r\n      : Array.from({ length: 18 }).map((item, index) => {\r\n          return <SparkLoader key={index} />;\r\n        });\r\n    return (\r\n      <div className='container'>\r\n        <MobileNav />\r\n        <Grid container>\r\n          {isMobile ? (\r\n            <>\r\n              <Grid\r\n                item\r\n                xs={12}\r\n                // style={{ marginLeft: \"10px\" }}\r\n              >\r\n                {recentSparks}\r\n              </Grid>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Grid item xs={12}>\r\n                <div className='spark-container'>{recentSparks}</div>\r\n              </Grid>\r\n            </>\r\n          )}\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ data }) => ({ data });\r\n\r\nconst mapDispatchToProps = (dispatch) =>\r\n  bindActionCreators(\r\n    {\r\n      getFollowingUserSparks,\r\n    },\r\n    dispatch\r\n  );\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(FollowingUserSparks);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst AuthRoute = ({ component: Component, authenticated, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      authenticated === true ? <Redirect to='/' /> : <Component {...props} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  authenticated: state.user.authenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AuthRoute);\r\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './Reducers/store';\nimport jwtDecode from 'jwt-decode';\nimport home from './Pages/home';\nimport login from './Pages/login';\nimport signup from './Pages/signup';\nimport ChatRoom from './Components/ChatRoom';\nimport User from './Components/User';\nimport FollowingUserSparks from './Components/FollowingUserSparks';\nimport AuthRoute from './Utils/AuthRoute';\nimport './App.css';\nimport {\n  ThemeProvider as MuiThemeProvider,\n  createMuiTheme,\n} from '@material-ui/core/styles/';\nimport {\n  setAuthenticated,\n  logoutUserDispatch,\n  setUserDataDispatch,\n} from './Actions/userActions';\nimport axios from 'axios';\n\naxios.defaults.baseURL = process.env.REACT_APP_API;\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#090909',\n      main: '#151515',\n      dark: '#3e3e3e',\n      contrastText: '#fff',\n    },\n    secondary: {\n      light: '#fcd738',\n      main: '#FCCE07',\n      dark: '#b09004',\n      contrastText: '#000',\n    },\n  },\n  typography: {\n    useNextVariants: true,\n  },\n});\n\nconst setAuthenticatedUser = async () => {\n  await store.dispatch(setAuthenticated());\n  await store.dispatch(setUserDataDispatch());\n};\n\nconst token = localStorage.FBToken;\nif (token) {\n  const decodedToken = jwtDecode(token);\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutUserDispatch());\n    window.location.href = '/login';\n  } else {\n    axios.defaults.headers.common['Authorization'] = token;\n    setAuthenticatedUser();\n  }\n}\n\nclass App extends React.Component {\n  render() {\n    return (\n      <MuiThemeProvider theme={theme}>\n        <Provider store={store}>\n          <Router>\n            <div>\n              <Switch>\n                <Route exact path='/' component={home} />\n                <AuthRoute exact path='/login' component={login} />\n                <AuthRoute exact path='/signup' component={signup} />\n                <Route exact path='/user/:username' component={User} />\n                <Route exact path='/users' component={FollowingUserSparks} />\n                <Route\n                  exact\n                  path='/user/:username/spark/:sparkId'\n                  component={User}\n                />\n                <Route exact path='/chats' component={ChatRoom} />\n              </Switch>\n            </div>\n          </Router>\n        </Provider>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}